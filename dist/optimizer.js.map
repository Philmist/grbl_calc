{"version":3,"sources":["webpack:///webpack/bootstrap 678c355a688d80378309","webpack:///./~/core-js/library/modules/_core.js","webpack:///./~/core-js/library/modules/_wks.js","webpack:///./~/core-js/library/modules/_object-dp.js","webpack:///./~/core-js/library/modules/_descriptors.js","webpack:///./~/core-js/library/modules/_export.js","webpack:///./~/core-js/library/modules/_global.js","webpack:///./~/core-js/library/modules/_hide.js","webpack:///./~/core-js/library/modules/_an-object.js","webpack:///./~/core-js/library/modules/_fails.js","webpack:///./~/core-js/library/modules/_is-object.js","webpack:///./~/core-js/library/modules/_iterators.js","webpack:///./~/core-js/library/modules/_ctx.js","webpack:///./~/core-js/library/modules/_has.js","webpack:///./~/core-js/library/modules/_to-object.js","webpack:///./~/core-js/library/modules/_defined.js","webpack:///./~/core-js/library/modules/_object-keys.js","webpack:///./~/core-js/library/modules/_to-iobject.js","webpack:///./~/core-js/library/modules/_to-length.js","webpack:///./~/core-js/library/modules/es6.string.iterator.js","webpack:///./~/core-js/library/modules/_classof.js","webpack:///./~/core-js/library/modules/_cof.js","webpack:///./~/core-js/library/modules/_for-of.js","webpack:///./~/core-js/library/modules/_iobject.js","webpack:///./~/core-js/library/modules/_iter-define.js","webpack:///./~/core-js/library/modules/_property-desc.js","webpack:///./~/core-js/library/modules/_set-to-string-tag.js","webpack:///./~/core-js/library/modules/_shared-key.js","webpack:///./~/core-js/library/modules/_to-integer.js","webpack:///./~/core-js/library/modules/_uid.js","webpack:///./~/core-js/library/modules/core.get-iterator-method.js","webpack:///./~/core-js/library/modules/web.dom.iterable.js","webpack:///./C:/Users/user/Source/Repos/grbl_calc/js/atk_calc.js","webpack:///./~/babel-runtime/core-js/object/assign.js","webpack:///./~/babel-runtime/core-js/array/from.js","webpack:///./~/babel-runtime/core-js/get-iterator.js","webpack:///./~/babel-runtime/core-js/object/define-property.js","webpack:///./~/babel-runtime/core-js/object/keys.js","webpack:///./~/core-js/library/modules/_an-instance.js","webpack:///./~/core-js/library/modules/_dom-create.js","webpack:///./~/core-js/library/modules/_enum-bug-keys.js","webpack:///./~/core-js/library/modules/_is-array-iter.js","webpack:///./~/core-js/library/modules/_iter-call.js","webpack:///./~/core-js/library/modules/_iter-step.js","webpack:///./~/core-js/library/modules/_meta.js","webpack:///./~/core-js/library/modules/_object-create.js","webpack:///./~/core-js/library/modules/_object-pie.js","webpack:///./~/core-js/library/modules/_redefine-all.js","webpack:///./~/core-js/library/modules/_shared.js","webpack:///(webpack)/buildin/global.js","webpack:///./C:/Users/user/Source/Repos/grbl_calc/js/const/job_data.js","webpack:///./C:/Users/user/Source/Repos/grbl_calc/js/const/worker_type.js","webpack:///./C:/Users/user/Source/Repos/grbl_calc/js/optimize_atk.js","webpack:///./~/babel-runtime/core-js/object/values.js","webpack:///./~/babel-runtime/helpers/defineProperty.js","webpack:///./~/babel-runtime/core-js/is-iterable.js","webpack:///./~/babel-runtime/core-js/set.js","webpack:///./~/babel-runtime/helpers/classCallCheck.js","webpack:///./~/babel-runtime/helpers/createClass.js","webpack:///./~/babel-runtime/helpers/slicedToArray.js","webpack:///./~/babel-runtime/helpers/toConsumableArray.js","webpack:///./~/babel-runtime/regenerator/index.js","webpack:///./~/core-js/library/fn/array/from.js","webpack:///./~/core-js/library/fn/get-iterator.js","webpack:///./~/core-js/library/fn/is-iterable.js","webpack:///./~/core-js/library/fn/object/assign.js","webpack:///./~/core-js/library/fn/object/define-property.js","webpack:///./~/core-js/library/fn/object/keys.js","webpack:///./~/core-js/library/fn/object/values.js","webpack:///./~/core-js/library/fn/set.js","webpack:///./~/core-js/library/modules/_a-function.js","webpack:///./~/core-js/library/modules/_add-to-unscopables.js","webpack:///./~/core-js/library/modules/_array-from-iterable.js","webpack:///./~/core-js/library/modules/_array-includes.js","webpack:///./~/core-js/library/modules/_array-methods.js","webpack:///./~/core-js/library/modules/_array-species-constructor.js","webpack:///./~/core-js/library/modules/_array-species-create.js","webpack:///./~/core-js/library/modules/_collection-strong.js","webpack:///./~/core-js/library/modules/_collection-to-json.js","webpack:///./~/core-js/library/modules/_collection.js","webpack:///./~/core-js/library/modules/_create-property.js","webpack:///./~/core-js/library/modules/_html.js","webpack:///./~/core-js/library/modules/_ie8-dom-define.js","webpack:///./~/core-js/library/modules/_is-array.js","webpack:///./~/core-js/library/modules/_iter-create.js","webpack:///./~/core-js/library/modules/_iter-detect.js","webpack:///./~/core-js/library/modules/_library.js","webpack:///./~/core-js/library/modules/_object-assign.js","webpack:///./~/core-js/library/modules/_object-dps.js","webpack:///./~/core-js/library/modules/_object-gops.js","webpack:///./~/core-js/library/modules/_object-gpo.js","webpack:///./~/core-js/library/modules/_object-keys-internal.js","webpack:///./~/core-js/library/modules/_object-sap.js","webpack:///./~/core-js/library/modules/_object-to-array.js","webpack:///./~/core-js/library/modules/_redefine.js","webpack:///./~/core-js/library/modules/_set-species.js","webpack:///./~/core-js/library/modules/_string-at.js","webpack:///./~/core-js/library/modules/_to-index.js","webpack:///./~/core-js/library/modules/_to-primitive.js","webpack:///./~/core-js/library/modules/core.get-iterator.js","webpack:///./~/core-js/library/modules/core.is-iterable.js","webpack:///./~/core-js/library/modules/es6.array.from.js","webpack:///./~/core-js/library/modules/es6.array.iterator.js","webpack:///./~/core-js/library/modules/es6.object.assign.js","webpack:///./~/core-js/library/modules/es6.object.define-property.js","webpack:///./~/core-js/library/modules/es6.object.keys.js","webpack:///./~/core-js/library/modules/es6.set.js","webpack:///./~/core-js/library/modules/es7.object.values.js","webpack:///./~/core-js/library/modules/es7.set.to-json.js","webpack:///./~/process/browser.js","webpack:///./~/regenerator-runtime/runtime-module.js","webpack:///./~/regenerator-runtime/runtime.js","webpack:///./C:/Users/user/Source/Repos/grbl_calc/js/worker_ga.js"],"names":["calculate_atkval","is_valid_weapon_obj","is_valid_summon_obj","param_obj","job_data","showed_atk","basic_atk","job_atk_value","job_atk_rate","rank","Number","zenith_atk","zenith","atk","divine_percent","attribute","character","magna","unknown","zeus","none","summon","main_summon","skill","forEach","divine","type","percent","friend","cosmos_weapon_type","cosmos_skill_type","i","weapon","length","skill_slot","skill_type","total_atk","zenith_bonus","job","atk_value","atk_rate","plus","specialty_basic","specialty_bonus","specialty","specialty_cosmos","total","atk_bonus","value","attribute_bonus","result","affinity","total_skill","baha","normal","backwater","konshin","ex","hp_p_n","hp_percent","hp_coefficient","pfunc_gen","slot_str","lv_check_func","true_func","false_func","level","psfunc_gen","bwfunc_gen","bw_coefficient","less_than_chklv","n","pcalc_gen","addval","subval","mulval","lv","pscalc_gen","CHECK_LEVEL","skill_calc_dict","l","skill_level","skill_name","ship_bonus","Math","round","weapon_obj","Object","weapon_keys","includes","Array","summon_obj","chk_val","hasOwnProperty","WORKER_STATE","STOP","INITED","TERMINATE","RUNNING","FINISH","WORKER_COMMAND","GET_STATE","SET_GA_PARAM","SET_BASIC_INFO","SET_WEAPON","SET_SUMMON","SET_FRIEND","INIT","RUN","RESET","CALC_STATE","UNINIT","PARAM_INITED","GA_INITED","CALC_VALUE","SORT_POPULATION","SELECT_POPULATION","INTERSECT_GENE","MUTATION","LOOP_START","LOOP_END","get_random_int","min","max","floor","random","GrblFormGAOptimizer","state","status","base_param","weapon_list","summon_list","friend_list","base","x","arytoobj","list","obj","target","String","friend_obj","objtoref","ref_list","j","push","ref","weapon_max_chromo_length","summon_max_chromo_length","friend_max_chromo_length","calculate_","population_length","weapon_mutation","summon_mutation","friend_mutation","create_ga_state","max_num","c_length","m_prob","mutation_probability","chromo_length","max_gene_number","population","tmp_ary","keys","ri","individual","gene_numbers","index","indexOf","splice","weapon_ga_ary","weapon_ga_param","summon_ga_ary","summon_ga_param","friend_ga_ary","friend_ga_param","ga_param","param","max_population_length","ga_state","chromos","gene_array","ref_array","map","conv_origchromos_to_objkeyarray","conv_orderchromos_to_origchromos","ary","ref_obj","key","is_valid_key_array","s","size","conv_chromos_to_array","weapon_ary","summon_ary","friend_ary","valid_ary","valid_result","v","param_weapon","objkeyarray_to_objarray","param_summon","param_friend","final_param","slice","evaluate_value","message","sort","r","filter","max_value","min_value","target_length","new_population","total_value","intersect_gene","l_gene","r_gene","i_point","i_length","l_cut","r_cut","target_num","template_gene","i_result","concat","gene_type","t","tmp_orig","tmp_indi","assign_value","sort_population","select_population","intersect","mutation","optimizer_instance","optimizer_generator","optimizer_state","optimizer_parameter","generation","optimizer_target","basic_info","optimizer_flag","p_count","g_count","m_weapon","m_summon","m_friend","i_basic","i_weapon","i_summon","i_friend","postMessage","post_state","data","flags","can_run","every","set_ga_parameter","ga_p","prob","is_valid_prob","all","c","set_basic_info","set_weapon","valid","set_summon","set_friend","init_optimizer","init","create_first_ga_state","run_optimizer","next_value","next","last_percent","top_individual","top","STOPPED_COMMAND_TABLE","d","self","addEventListener","e","command"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC9DA,6BAA6B;AAC7B,qCAAqC,gC;;;;;;ACDrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uB;;;;;;ACVA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,UAAU;AACb;AACA;AACA;AACA,E;;;;;;ACfA;AACA;AACA,iCAAiC,QAAQ,gBAAgB,UAAU,GAAG;AACtE,CAAC,E;;;;;;ACHD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA,qFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB,yB;;;;;;AC5DA;AACA;AACA;AACA,uCAAuC,gC;;;;;;ACHvC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,E;;;;;;ACPA;AACA;AACA;AACA;AACA,E;;;;;;ACJA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,E;;;;;;ACNA;AACA;AACA,E;;;;;;ACFA,oB;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACnBA,uBAAuB;AACvB;AACA;AACA,E;;;;;;ACHA;AACA;AACA;AACA;AACA,E;;;;;;ACJA;AACA;AACA;AACA;AACA,E;;;;;;ACJA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACLA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D,E;;;;;;;ACLA;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B,cAAc;AACd;AACA,CAAC;AACD;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,UAAU;AACV,CAAC,E;;;;;;AChBD;AACA;AACA;AACA;AACA,yBAAyB,kBAAkB,EAAE;;AAE7C;AACA;AACA;AACA;AACA,GAAG,UAAU;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACtBA,iBAAiB;;AAEjB;AACA;AACA,E;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,iBAAiB,EAAE;AACxD;AACA;AACA;AACA;AACA;AACA,gEAAgE,gBAAgB;AAChF;AACA;AACA,GAAG,2CAA2C,gCAAgC;AAC9E;AACA;AACA;AACA;AACA;AACA,wB;;;;;;ACxBA;AACA;AACA;AACA;AACA,E;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4BAA4B,aAAa;;AAEzC;AACA;AACA;AACA;AACA;AACA,wCAAwC,oCAAoC;AAC5E,4CAA4C,oCAAoC;AAChF,KAAK,2BAA2B,oCAAoC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,iCAAiC,2BAA2B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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B,wD;;;;;;ACAlB,kBAAkB,wD;;;;;;ACAlB,kBAAkB,wD;;;;;;ACAlB,kBAAkB,wD;;;;;;ACAlB;AACA;AACA;AACA,GAAG;AACH,E;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACNA;AACA;AACA;AACA,a;;;;;;ACHA;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,E;;;;;;ACXA;AACA,UAAU;AACV,E;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;ACxCA,cAAc,sB;;;;;;ACAd;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,E;;;;;;ACNA;AACA;AACA,mDAAmD;AACnD;AACA,uCAAuC;AACvC,E;;;;;;ACLA;;AAEA;AACA,iBAAiB,aAAa,EAAE;;AAEhC;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;AClBA;;AAEA;;;;;AAKA,IAAIvB,WAAW;AACb,aAAW,EAAG;AACZ,iBAAc,CAAC,OAAD,EAAU,KAAV,CADL,EACwB;AACjC,iBA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;AACA;AACA;AACA;AACA;AACA,4C;;;;;;ACLA;AACA;AACA;AACA,E;;;;;;ACHA,4BAA4B,e;;;;;;ACA5B;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,WAAW,eAAe;AAC/B;AACA,KAAK;AACL;AACA,E;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,eAAe;AACxB;AACA;AACA;AACA,sCAAsC;AACtC;AACA,8BAA8B;AAC9B,6BAA6B;AAC7B,+BAA+B;AAC/B,mCAAmC;AACnC,SAAS,+BAA+B;AACxC;AACA;AACA;AACA;AACA,E;;;;;;AC3CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,E;;;;;;ACfA;AACA;;AAEA;AACA;AACA,E;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,0BAA0B;AAC1B,0BAA0B;AAC1B,qBAAqB;AACrB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,6DAA6D,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB,0BAA0B;AAC1B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,E;;;;;;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA,E;;;;;;;AC1DA;AACA;AACA;;AAEA;AACA;AACA;AACA,E;;;;;;ACPA,6E;;;;;;ACAA;AACA,qEAAsE,gBAAgB,UAAU,GAAG;AACnG,CAAC,E;;;;;;ACFD;AACA;AACA;AACA;AACA,E;;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA,yFAAgF,aAAa,EAAE;;AAE/F;AACA,qDAAqD,0BAA0B;AAC/E;AACA,E;;;;;;ACZA;AACA;;AAEA;AACA;AACA,+BAA+B,qBAAqB;AACpD,+BAA+B,SAAS,EAAE;AAC1C,CAAC,UAAU;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS,mBAAmB;AACvD,+BAA+B,aAAa;AAC5C;AACA,GAAG,UAAU;AACb;AACA,E;;;;;;ACpBA,sB;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,UAAU,EAAE;AAC9C,mBAAmB,sCAAsC;AACzD,CAAC,oCAAoC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,W;;;;;;AChCD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACZA,yC;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,E;;;;;;ACZA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,mDAAmD,OAAO,EAAE;AAC5D,E;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,E;;;;;;ACfA,wC;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,aAAa;AACjC,GAAG;AACH,E;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wEAA0E,kBAAkB,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,gCAAgC;AACpF;AACA;AACA,KAAK;AACL;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;ACpCD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,4B;;;;;;ACjCA;AACA;;AAEA,0CAA0C,gCAAoC,E;;;;;;ACH9E;AACA;AACA,oEAAuE,yCAA0C,E;;;;;;ACFjH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,E;;;;;;;;;;;;;ACRD;AACA;;AAEA;AACA;AACA,wBAAwB,mEAAmE;AAC3F,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC,U;;;;;;ACXD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,E;;;;;;ACRD;AACA;;AAEA,uCAAuC,uCAAgD,E;;;;;;ACHvF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACnLtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;qCC5pBA;;AAEA;;;;;;;;AASA;;;AACA;;AACA;;AACA;;AACA;;;;;;AAGA;AACA,IAAI4G,qBAAqB,IAAzB,C,CAAgC;AAChC,IAAIC,sBAAsB,IAA1B,C,CAAiC;AACjC,IAAIC,kBAAkB,0BAAa9I,IAAnC,C,CAA0C;AAC1C,IAAI+I,sBAAsB,EAAG;AAC3B7E,cAAY,GADY,EACN;AAClBH,wBAAsB,EAAG;AACvB9H,YAAQ,IADY;AAEpBX,YAAQ,IAFY;AAGpBO,YAAQ;AAHY,GAFE;AAOxBmN,cAAY,GAPY,CAOP;AAPO,CAA1B;AASA,IAAIC,mBAAmB,EAAG;AACxBC,cAAY,EADS;AAErBjN,UAAQ,EAFa;AAGrBX,UAAQ,EAHa;AAIrBO,UAAQ;AAJa,CAAvB;AAMA,IAAIsN,iBAAiB,EAAG;AACtBC,WAAS,KADU,EACF;AACjBC,WAAS,KAFU,EAEF;AACjBC,YAAU,KAHS,EAGD;AAClBC,YAAU,KAJS,EAID;AAClBC,YAAU,KALS,EAKD;AAClBC,WAAS,KANU,EAMF;AACjBC,YAAU,KAPS,EAOD;AAClBC,YAAU,KARS,EAQD;AAClBC,YAAU,KATS,CASF;AATE,CAArB;;AAaA;AACA,IAAIC,cAAgB,kBAAKA,WAArB,eAAJ;;AAGA;AACA;;AAEA;AACA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxBF,cAAY;AACV1M,YAAQ,IADE;AAEV6E,WAAO8G,eAFG;AAGVkB,WAAOb,cAHG;AAIVc,aAAS,sBAAcd,cAAd,EAA8Be,KAA9B,CAAoC,UAAC3D,CAAD,EAAO;AAAE,aAAOA,CAAP;AAAW,KAAxD;AAJC,GAAZ;AAMD;;AAED;AACA,SAAS4D,gBAAT,CAA0BJ,IAA1B,EAAgC;AAC9B;AACA,MAAIA,KAAKA,IAAT,EAAe;AACb,QAAIK,OAAOL,KAAKA,IAAhB;AACA;AACA,QAAI7F,aAAavJ,OAAOyP,KAAKlG,UAAZ,CAAjB;AACA,QAAIA,aAAa,EAAjB,EAAqB;AACnB6E,0BAAoB7E,UAApB,GAAiC7E,KAAKC,KAAL,CAAW4E,UAAX,CAAjC;AACAiF,qBAAeC,OAAf,GAAyB,IAAzB;AACD;AACD;AACA,QAAIgB,KAAKrG,oBAAT,EAA+B;AAC7B,UAAIsG,OAAOD,KAAKrG,oBAAhB;AACA,UAAIuG,gBAAgB,SAAhBA,aAAgB,CAAC/D,CAAD,EAAO;AAAE,eAASA,KAAK,CAAN,IAAaA,IAAI,CAAzB;AAA+B,OAA5D;AACA,UAAI8D,KAAKvK,cAAL,CAAoB,KAApB,KAA8BwK,cAAcD,KAAKE,GAAnB,CAAlC,EAA2D;AACzDxB,4BAAoB9M,MAApB,GAA6BtB,OAAO0P,KAAKE,GAAZ,CAA7B;AACAxB,4BAAoBzN,MAApB,GAA6BX,OAAO0P,KAAKE,GAAZ,CAA7B;AACAxB,4BAAoBlN,MAApB,GAA6BlB,OAAO0P,KAAKE,GAAZ,CAA7B;AACApB,uBAAeG,QAAf,GAA0B,IAA1B;AACAH,uBAAeI,QAAf,GAA0B,IAA1B;AACAJ,uBAAeK,QAAf,GAA0B,IAA1B;AACD,OAPD,MAOO;AACL,YAAIa,KAAKpO,MAAL,IAAeqO,cAAcD,KAAKpO,MAAnB,CAAnB,EAA+C;AAC7C8M,8BAAoB9M,MAApB,GAA6BtB,OAAO0P,KAAKpO,MAAZ,CAA7B;AACAkN,yBAAeG,QAAf,GAA0B,IAA1B;AACD;AACD,YAAIe,KAAK/O,MAAL,IAAegP,cAAcD,KAAK/O,MAAnB,CAAnB,EAA+C;AAC7CyN,8BAAoBzN,MAApB,GAA6BX,OAAO0P,KAAK/O,MAAZ,CAA7B;AACA6N,yBAAeI,QAAf,GAA0B,IAA1B;AACD;AACD,YAAIc,KAAKxO,MAAL,IAAeyO,cAAcD,KAAKxO,MAAnB,CAAnB,EAA+C;AAC7CkN,8BAAoBlN,MAApB,GAA6BlB,OAAO0P,KAAKxO,MAAZ,CAA7B;AACAsN,yBAAeK,QAAf,GAA0B,IAA1B;AACD;AACF;AACF;AACD;AACA,QAAIY,KAAKpB,UAAT,EAAqB;AACnB,UAAIwB,IAAI7P,OAAOyP,KAAKpB,UAAZ,CAAR;AACA,UAAIwB,KAAK,EAAT,EAAa;AACXzB,4BAAoBC,UAApB,GAAiC3J,KAAKC,KAAL,CAAWkL,CAAX,CAAjC;AACArB,uBAAeE,OAAf,GAAyB,IAAzB;AACD;AACF;AACDQ,gBAAY;AACV1M,cAAQ,IADE;AAEV4J,eAAS,sBAFC;AAGVgD,YAAMhB;AAHI,KAAZ;AAKD,GA/CD,MA+CO;AACLc,gBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,+BAA1B,EAAZ;AACD;AACF;;AAED;AACA,SAAS0D,cAAT,CAAwBV,IAAxB,EAA8B;AAC5B,MAAIA,KAAKA,IAAL,IAAaA,KAAKA,IAAL,YAAqBvK,MAAtC,EAA8C;AAC5C,0BAAcyJ,iBAAiBC,UAA/B,EAA2Ca,KAAKA,IAAhD;AACAF,gBAAY,EAAE1M,QAAQ,IAAV,EAAgB4J,SAAS,oBAAzB,EAAZ;AACAoC,mBAAeM,OAAf,GAAyB,IAAzB;AACD,GAJD,MAIO;AACLI,gBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,sBAA1B,EAAZ;AACD;AACF;;AAED;AACA,SAAS2D,UAAT,CAAoBX,IAApB,EAA0B;AACxB,MAAIA,KAAKA,IAAL,IAAaA,KAAKA,IAAL,YAAqBpK,KAAtC,EAA6C;AAC3C,QAAIgL,QAAQZ,KAAKA,IAAL,CAAUG,KAAV,+BAAZ;AACA,QAAI,CAACS,KAAL,EAAY;AACVd,kBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,iCAA1B,EAAZ;AACA;AACD;AACDkC,qBAAiBhN,MAAjB,GAA0B8N,KAAKA,IAA/B;AACAZ,mBAAeO,QAAf,GAA0B,IAA1B;AACAG,gBAAY,EAAE1M,QAAQ,IAAV,EAAgB4J,SAAS,qBAAzB,EAAZ;AACD,GATD,MASO;AACL8C,gBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,qBAA1B,EAAZ;AACD;AACF;;AAED;AACA,SAAS6D,UAAT,CAAoBb,IAApB,EAA0B;AACxB,MAAIA,KAAKA,IAAL,IAAaA,KAAKA,IAAL,YAAqBpK,KAAtC,EAA6C;AAC3C,QAAIgL,QAAQZ,KAAKA,IAAL,CAAUG,KAAV,+BAAZ;AACA,QAAI,CAACS,KAAL,EAAY;AACVd,kBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,iCAA1B,EAAZ;AACA;AACD;AACDkC,qBAAiB3N,MAAjB,GAA0ByO,KAAKA,IAA/B;AACAZ,mBAAeQ,QAAf,GAA0B,IAA1B;AACAE,gBAAY,EAAE1M,QAAQ,IAAV,EAAgB4J,SAAS,qBAAzB,EAAZ;AACD,GATD,MASO;AACL8C,gBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,qBAA1B,EAAZ;AACD;AACF;;AAED;AACA,SAAS8D,UAAT,CAAoBd,IAApB,EAA0B;AACxB,MAAIA,KAAKA,IAAL,IAAaA,KAAKA,IAAL,YAAqBpK,KAAtC,EAA6C;AAC3C,QAAIgL,QAAQZ,KAAKA,IAAL,CAAUG,KAAV,+BAAZ,CAD2C,CACQ;AACnD,QAAI,CAACS,KAAL,EAAY;AACVd,kBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,iCAA1B,EAAZ;AACA;AACD;AACDkC,qBAAiBpN,MAAjB,GAA0BkO,KAAKA,IAA/B;AACAZ,mBAAeS,QAAf,GAA0B,IAA1B;AACAC,gBAAY,EAAE1M,QAAQ,IAAV,EAAgB4J,SAAS,qBAAzB,EAAZ;AACD,GATD,MASO;AACL8C,gBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,qBAA1B,EAAZ;AACD;AACF;;AAED;AACA,SAAS+D,cAAT,CAAwBf,IAAxB,EAA8B;AAC5B;AACA,MAAI,CAAC,sBAAcZ,cAAd,EAA8Be,KAA9B,CAAoC,UAAC3D,CAAD,EAAO;AAAE,WAAOA,CAAP;AAAW,GAAxD,CAAL,EAAgE;AAC9DsD,gBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,oDAA1B,EAAZ;AACA;AACD;AACD;AACA6B,uBAAqB,uCAArB;AACA;AACAC,wBAAsBD,mBAAmBmC,IAAnB,CACpB9B,iBAAiBC,UADG,EAEpBD,iBAAiBhN,MAFG,EAGpBgN,iBAAiB3N,MAHG,EAIpB2N,iBAAiBpN,MAJG,qBAAtB;AAOA;AACA+M,qBAAmBoC,qBAAnB,CACEjC,oBAAoB7E,UADtB,EAEE6E,oBAAoBhF,oBAApB,CAAyC9H,MAF3C,EAGE8M,oBAAoBhF,oBAApB,CAAyCzI,MAH3C,EAIEyN,oBAAoBhF,oBAApB,CAAyClI,MAJ3C;AAMA;AACAiN,oBAAkB,0BAAa7I,MAA/B;AACA4J,cAAY,EAAE1M,QAAQ,IAAV,EAAgB4J,SAAS,sBAAzB,EAAZ;AACD;;AAED;AACA,SAASkE,aAAT,CAAuBlB,IAAvB,EAA6B;AAC3B;AACA,MAAIjB,mBAAmB,0BAAa7I,MAApC,EAA4C;AAC1C4J,gBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,yBAA1B,EAAZ;AACA;AACD;AACD;AACA+B,oBAAkB,0BAAa3I,OAA/B;AACA,MAAI+K,aAAarC,oBAAoBsC,IAApB,GAA2BlO,KAA5C;AACA,MAAImO,eAAe/L,KAAKC,KAAL,CAAW,CAAX,CAAnB;AACA,OAAK,IAAItD,IAAI,CAAb,EACGA,IAAI+M,oBAAoBC,UAAzB,IACIF,oBAAoB,0BAAa3I,OAFvC,EAGEnE,GAHF,EAGO;AACL,WAAOkP,cAAcA,WAAWjJ,MAAX,IAAqB,yBAAWR,QAArD,EAA+D;AAC7DyJ,mBAAarC,oBAAoBsC,IAApB,GAA2BlO,KAAxC;AACD;AACD,QAAIrB,UAAUyD,KAAKC,KAAL,CAAWtD,IAAI+M,oBAAoBC,UAAnC,CAAd;AACA,QAAIoC,gBAAgBxP,OAApB,EAA6B;AAC3BwP,qBAAexP,OAAf;AACAiO,kBAAY,EAAE9C,SAAS,oBAAX,EAAiCnL,SAASA,OAA1C,EAAmDoG,OAAO8G,eAA1D,EAAZ;AACD;AACF;AACDA,oBAAkB,0BAAa1I,MAA/B;AACA,MAAIiL,iBAAiBH,WAAW9F,QAAX,CAAoBlB,UAApB,CAA+B,CAA/B,CAArB;AAxB2B,aAyBI,CAC7B0E,mBAAmB3C,qBAAnB,CAAyCoF,eAAepP,MAAxD,EAAgE2M,mBAAmB1F,GAAnB,CAAuBjH,MAAvF,CAD6B,EAE7B2M,mBAAmB3C,qBAAnB,CAAyCoF,eAAe/P,MAAxD,EAAgEsN,mBAAmB1F,GAAnB,CAAuB5H,MAAvF,CAF6B,EAG7BsN,mBAAmB3C,qBAAnB,CAAyCoF,eAAexP,MAAxD,EAAgE+M,mBAAmB1F,GAAnB,CAAuBrH,MAAvF,CAH6B,CAzBJ;AAAA,MAyBtBI,MAzBsB;AAAA,MAyBdX,MAzBc;AAAA,MAyBNO,MAzBM;;AA8B3BgO,cAAY;AACV9C,aAAS,oBADC;AAEV/E,WAAO8G,eAFG;AAGVwC,SAAKJ,WAAW9F,QAAX,CAAoBlB,UAApB,CAA+B,CAA/B,CAHK;AAIVjI,YAAQA,MAJE;AAKVX,YAAQA,MALE;AAMVO,YAAQA;AANE,GAAZ;AAQD;;AAGD;AACA,IAAM0P,0GACH,4BAAejL,SADZ,EACwBwJ,UADxB,wDAEH,4BAAevJ,YAFZ,EAE2B4J,gBAF3B,wDAGH,4BAAe3J,cAHZ,EAG6BiK,cAH7B,wDAIH,4BAAehK,UAJZ,EAIyBiK,UAJzB,wDAKH,4BAAehK,UALZ,EAKyBkK,UALzB,wDAMH,4BAAejK,UANZ,EAMyBkK,UANzB,wDAOH,4BAAejK,IAPZ,EAOmBkK,cAPnB,wDAQH,4BAAehK,KARZ,EAQoB,UAAC0K,CAAD,EAAO;AAC7B3C,wBAAsB,IAAtB;AACAD,uBAAqB,IAArB;AACAE,oBAAkB,0BAAa9I,IAA/B;AACD,CAZG,yBAAN;;AAgBA;AACAyL,KAAKC,gBAAL,CAAsB,SAAtB,EAAiC,UAACC,CAAD,EAAO;AACtC,MAAI5B,OAAO4B,EAAE5B,IAAb;AACA;AACA,MAAI,CAACA,KAAK6B,OAAV,EAAmB;AACjB/B,gBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,eAA1B,EAAZ;AACA;AACD;AACD;AACA,MAAIwE,sBAAsBzL,cAAtB,CAAqCiK,KAAK6B,OAA1C,CAAJ,EAAwD;AACtD;AACA,QAAI7B,KAAK6B,OAAL,KAAiB,4BAAehL,IAAhC,IAAwCmJ,KAAK6B,OAAL,KAAiB,4BAAe9K,KAA5E,EAAmF;AAAG;AACpF+H,4BAAsB,IAAtB;AACAD,2BAAqB,IAArB;AACAE,wBAAkB,0BAAa9I,IAA/B;AACA,UAAI+J,KAAK6B,OAAL,KAAiB,4BAAehL,IAApC,EAA0C;AACxC2K,8BAAsBxB,KAAK6B,OAA3B,EAAoC7B,IAApC;AACD;AACF,KAPD,MAOO,IAAIjB,oBAAoB,0BAAa3I,OAArC,EAA8C;AAAG;AACtD0J,kBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,uBAA1B,EAAZ;AACD,KAFM,MAEA;AAAG;AACRwE,4BAAsBxB,KAAK6B,OAA3B,EAAoC7B,IAApC;AACD;AACF,GAdD,MAcO,IAAIA,KAAK6B,OAAL,KAAiB,4BAAe1L,SAAhC,IAA6C4I,oBAAoB,0BAAa3I,OAAlF,EAA2F;AAChG2I,sBAAkB,0BAAa5I,SAA/B;AACD,GAFM,MAEA,IAAI6J,KAAK6B,OAAL,KAAiB,4BAAe/K,GAApC,EAAyC;AAC9CoK,kBAAclB,IAAd;AACD,GAFM,MAEA;AACLF,gBAAY,EAAE1M,QAAQ,KAAV,EAAiB4J,SAAS,uBAA1B,EAAZ;AACD;AACF,CA7BD,EA6BG,KA7BH,E","file":"./dist/optimizer.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 112);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 678c355a688d80378309","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_core.js\n// module id = 0\n// module chunks = 0","var store      = require('./_shared')('wks')\n  , uid        = require('./_uid')\n  , Symbol     = require('./_global').Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks.js\n// module id = 1\n// module chunks = 0","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-dp.js\n// module id = 2\n// module chunks = 0","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_descriptors.js\n// module id = 3\n// module chunks = 0","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_export.js\n// module id = 4\n// module chunks = 0","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_global.js\n// module id = 5\n// module chunks = 0","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_hide.js\n// module id = 6\n// module chunks = 0","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_an-object.js\n// module id = 7\n// module chunks = 0","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_fails.js\n// module id = 8\n// module chunks = 0","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-object.js\n// module id = 9\n// module chunks = 0","module.exports = {};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iterators.js\n// module id = 10\n// module chunks = 0","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ctx.js\n// module id = 11\n// module chunks = 0","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_has.js\n// module id = 12\n// module chunks = 0","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-object.js\n// module id = 13\n// module chunks = 0","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_defined.js\n// module id = 14\n// module chunks = 0","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = require('./_object-keys-internal')\n  , enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-keys.js\n// module id = 15\n// module chunks = 0","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-iobject.js\n// module id = 16\n// module chunks = 0","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-length.js\n// module id = 17\n// module chunks = 0","'use strict';\nvar $at  = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.string.iterator.js\n// module id = 18\n// module chunks = 0","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof')\n  , TAG = require('./_wks')('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_classof.js\n// module id = 19\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_cof.js\n// module id = 20\n// module chunks = 0","var ctx         = require('./_ctx')\n  , call        = require('./_iter-call')\n  , isArrayIter = require('./_is-array-iter')\n  , anObject    = require('./_an-object')\n  , toLength    = require('./_to-length')\n  , getIterFn   = require('./core.get-iterator-method')\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_for-of.js\n// module id = 21\n// module chunks = 0","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iobject.js\n// module id = 22\n// module chunks = 0","'use strict';\nvar LIBRARY        = require('./_library')\n  , $export        = require('./_export')\n  , redefine       = require('./_redefine')\n  , hide           = require('./_hide')\n  , has            = require('./_has')\n  , Iterators      = require('./_iterators')\n  , $iterCreate    = require('./_iter-create')\n  , setToStringTag = require('./_set-to-string-tag')\n  , getPrototypeOf = require('./_object-gpo')\n  , ITERATOR       = require('./_wks')('iterator')\n  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = '@@iterator'\n  , KEYS           = 'keys'\n  , VALUES         = 'values';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + ' Iterator'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined\n    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-define.js\n// module id = 23\n// module chunks = 0","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_property-desc.js\n// module id = 24\n// module chunks = 0","var def = require('./_object-dp').f\n  , has = require('./_has')\n  , TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_set-to-string-tag.js\n// module id = 25\n// module chunks = 0","var shared = require('./_shared')('keys')\n  , uid    = require('./_uid');\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_shared-key.js\n// module id = 26\n// module chunks = 0","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-integer.js\n// module id = 27\n// module chunks = 0","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_uid.js\n// module id = 28\n// module chunks = 0","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/core.get-iterator-method.js\n// module id = 29\n// module chunks = 0","require('./es6.array.iterator');\nvar global        = require('./_global')\n  , hide          = require('./_hide')\n  , Iterators     = require('./_iterators')\n  , TO_STRING_TAG = require('./_wks')('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/web.dom.iterable.js\n// module id = 30\n// module chunks = 0","// vim: sts=2 sw=2 ts=2 expandtab\r\n\r\n// 各種パラメータをobject(dict)で受けとってobjectで返す関数\r\n/*\r\n  param_obj: 以下のような内容を持つオブジェクト\r\n  {\r\n    rank: ランク(Number),\r\n    ship_bonus: 騎空艇補正(Number),\r\n    hp_percent: 現在HPの最大HPに対する%(Number),\r\n    job: 別データで表わされたクラス(職業)を示した文字列(String),\r\n    affinity: 'good' | 'bad' | (それ以外) の文字列で示される属性補正(String),\r\n    zenith: {\r\n        atk: 星の数(0から3の整数)(Number),\r\n        weapon: [得意武器1つ目の星の数(0-3の整数)(Number), ... ],\r\n        attribute: 属性攻撃力の星の数(0-3の整数)(Number)\r\n      }\r\n    weapon: [ // 武器1つを配列の要素1つで表わす\r\n        {\r\n          atk: 武器攻撃力(Number),\r\n          plus: 武器の＋数値(Number),\r\n          type: 武器の種類を表わした文字列(String),\r\n          skill_level: 武器のスキルレベル(Number),\r\n          skill_slot: [武器のスキル1つ目の枠名の文字列(String), 同2つ目 ],\r\n          skill_type: [武器のスキル1つ目の種別の文字列(String), 同2つ目 ],\r\n        }, ...\r\n      ],\r\n    summon: [ // 召喚1つを配列の(ry 最初のものがメイン召喚石として計算される\r\n        {\r\n          atk: 召喚の攻撃力(Number),\r\n          skill: [ // 加護1つを配列の要素1つで表わす\r\n            {\r\n              type: 加護種別を表わす文字列(String),\r\n              percent: 加護のパーセンテージ(Number)\r\n            }, ...\r\n          ]\r\n        }, ...\r\n      ],\r\n    atk_bonus: {\r\n      percent: 攻撃力ボーナスのパーセンテージ(%, Number),\r\n      value: 攻撃力ボーナスの値(Number)\r\n    },\r\n    friend: {  // フレンド召喚 だいたい通常召喚と一緒だが要素1個だけなのでオブジェクト\r\n      atk: 召喚の攻撃力(Number),\r\n      skill: [ // 加護1つを配列の要素1つで表わす\r\n        {\r\n          type: 加護種別を表わす文字列(String),\r\n          percent: 加護のパーセンテージ(Number)\r\n        }, ...\r\n      ]\r\n    }\r\n  }\r\n  job_data: 以下のような内容を持つオブジェクト\r\n  {\r\n    \"(職業の英語名)\": {\r\n      specialty: [\"(得意武器の英語名)\", ... ],\r\n      atk_value: 攻撃力ボーナス値(Number)\r\n      atk_rate:  攻撃力ボーナス％(Number)\r\n    }, ...\r\n  }\r\n*/\r\nexport function calculate_atkval (param_obj, job_data) {\r\n  // 攻撃力の定義\r\n  let showed_atk = 0;\r\n  let basic_atk = 0;\r\n  \r\n  let job_atk_value = 0;\r\n  let job_atk_rate = 0;\r\n\r\n  // 基本攻撃力の算出\r\n  {\r\n    let rank = Number(param_obj.rank);\r\n    basic_atk = rank * 40 + 1000;\r\n    if (rank < 2) {\r\n      basic_atk = 1000;\r\n    } else if (rank > 100) {\r\n      basic_atk -= (rank - 100) * 20;\r\n    }\r\n    showed_atk = basic_atk;\r\n  }\r\n\r\n  // ゼニス攻撃力の算出\r\n  {\r\n    let zenith_atk = 0;\r\n    if (param_obj.zenith.atk == 1) {\r\n      zenith_atk = 500;\r\n    } else if (param_obj.zenith.atk == 2) {\r\n      zenith_atk = 1500;\r\n    } else if (param_obj.zenith.atk == 3) {\r\n      zenith_atk = 3000;\r\n    }\r\n    showed_atk += zenith_atk;\r\n  }\r\n\r\n  // 召喚加護の計算\r\n  let divine_percent = {\r\n    attribute: 100,\r\n    character: 0,\r\n    magna: 100,\r\n    unknown: 100,\r\n    zeus: 100,\r\n    none: 0\r\n  };\r\n  // メイン召喚石\r\n  if (param_obj.summon[0]) {\r\n    let main_summon = param_obj.summon[0];\r\n    if (main_summon.skill) {\r\n      main_summon.skill.forEach(function(divine) {\r\n        if (divine.type) { divine_percent[divine.type] += divine.percent; }\r\n      });\r\n    }\r\n  }\r\n  // フレンド召喚石\r\n  if (param_obj.friend) {\r\n    let friend = param_obj.friend;\r\n    if (friend.skill) {\r\n      friend.skill.forEach(function(divine) {\r\n        if (divine.type) { divine_percent[divine.type] += divine.percent; }\r\n      });\r\n    }\r\n  }\r\n\r\n  // コスモス武器の武器種を確認する\r\n  // 一番最初のコスモス武器が該当\r\n  let cosmos_weapon_type = \"no_cosmos\";  // \"none\"では該当が出てきてしまう\r\n  let cosmos_skill_type = \"normal\";  // コスモスのスキルタイプ\r\n  for (let i = 0; i < param_obj.weapon.length; i++) {\r\n    if (param_obj.weapon[i].skill_slot[0] == \"cosmos\" || param_obj.weapon[i].skill_slot[1] == \"cosmos\") {\r\n      cosmos_weapon_type = param_obj.weapon[i].type;\r\n      cosmos_skill_type = param_obj.weapon[i].skill_type;\r\n      break;\r\n    }\r\n  }\r\n\r\n  // 武器攻撃力の計算\r\n  showed_atk += function () {  // 表示攻撃力に処理で得られた総合武器攻撃力を加算する\r\n    let total_atk = 0;\r\n    const zenith_bonus = [0, 1, 3, 5, 6, 8, 10];  // 各zenithの星に対応する追加ボーナス%\r\n    let job = job_data[param_obj.job];  // 該当ジョブのデータを取得\r\n    if (job) {  // もし該当ジョブが存在するのなら\r\n      // ジョブ攻撃力ボーナス\r\n      job_atk_value = job.atk_value;\r\n      job_atk_rate = job.atk_rate;\r\n    }\r\n    param_obj.weapon.forEach(function(weapon) {\r\n      let atk = weapon.atk + weapon.plus * 5;  // 基礎攻撃力\r\n      let specialty_basic = 100;  // 得意武器倍率%\r\n      let specialty_bonus = 0;  // Zenith追加%\r\n      if (job) {  // もし該当ジョブが存在するのなら\r\n        // 得意武器の一覧を見て...\r\n        for (var i = 0; i < job.specialty.length; i++) {\r\n          // 得意武器が現在見ている武器と一致するなら倍率(%)を上げる\r\n          if (job.specialty[i] == weapon.type) {\r\n            specialty_basic = 120;\r\n            specialty_bonus = zenith_bonus[param_obj.zenith.weapon[i]];\r\n            specialty_bonus = specialty_bonus ? specialty_bonus: 0;\r\n          }\r\n        }\r\n      }\r\n      let specialty_cosmos = (weapon.type == cosmos_weapon_type) ? 30 : 0; // コスモス該当武器の追加%\r\n      // 自身にもコスモス武器の倍率はかかる\r\n      // 武器攻撃力に倍率をかける\r\n      atk = atk * (specialty_basic + specialty_bonus + specialty_cosmos) / 100;\r\n      // 全武器攻撃力を更新する\r\n      total_atk += atk;\r\n    });\r\n    return total_atk;\r\n  } ();  // 定義した無名関数を即時実行する\r\n\r\n  // 召喚攻撃力\r\n  showed_atk += function () {\r\n    let total = 0;\r\n    param_obj.summon.forEach(function(summon) {\r\n      total += summon.atk;\r\n    });\r\n    return total;\r\n  } ();  // 無名関数の即時実行\r\n\r\n  // ジョブボーナス\r\n  // TODO: 外部ファイルから読みこみも考えるべき\r\n  showed_atk += param_obj.atk_bonus.value + job_atk_value;\r\n  showed_atk = showed_atk * (100 + param_obj.atk_bonus.percent + job_atk_rate) / 100;\r\n\r\n\r\n  /* スキル */\r\n\r\n  // 属性補正\r\n  let attribute_bonus = 0;\r\n  attribute_bonus += function() {\r\n    let zenith_bonus = [0, 1, 3, 5];\r\n    let result = 0;\r\n    result += param_obj.zenith.attribute ? zenith_bonus[param_obj.zenith.attribute]  : zenith_bonus[0];\r\n    if (param_obj.affinity == \"good\") {\r\n      result += 50;\r\n    } else if (param_obj.affinity == \"bad\") {\r\n      result -= 25;\r\n    }\r\n    return result;\r\n  } ();  // 無名関数の即時実行\r\n\r\n  // 武器ごとのスキル計算\r\n  /// 変数の初期化\r\n  let total_skill = {\r\n    baha: {percent: 0},\r\n    normal: {percent: 0, backwater: 0, konshin: 0},\r\n    magna: {percent: 0, backwater: 0, konshin: 0},\r\n    ex: {percent: 0, backwater: 0, konshin: 0},\r\n    unknown: {percent: 0, backwater: 0, konshin: 0}\r\n  };\r\n  let hp_p_n = param_obj.hp_percent / 100;  // [0,1]なHP割合\r\n  let hp_coefficient = 2 * hp_p_n * hp_p_n - 5 * hp_p_n + 3; // = 2 * (hp_p_n ** 2) - 5 * hp_p_n + 3\r\n  /// スキルの計算をするための関数を定義\r\n  //// ロジックの異なる部分を引数として受けとり関数として返す\r\n  //// type_str: \"baha\" | \"normal\" | \"magna\" | \"ex\"\r\n  //// lv_check_func: 引数としてskill_levelを受けとり条件を判断する関数\r\n  //// true_func: lv_check_funcで返された結果が真のときskill_levelを受けとり加算する%を返す関数\r\n  //// false_func: ほぼ同上だが偽の場合\r\n  function pfunc_gen (slot_str, lv_check_func, true_func, false_func) {\r\n    return function (level) {\r\n      if (lv_check_func(level)) {\r\n        total_skill[slot_str][\"percent\"] += true_func(level);\r\n      } else {\r\n        total_skill[slot_str][\"percent\"] += false_func(level);\r\n      }\r\n    };\r\n  }\r\n  //// この関数は渾身に対応\r\n  //// ほぼ上の関数と一緒だが加算先が異なる\r\n  function psfunc_gen (slot_str, lv_check_func, true_func, false_func) {\r\n    return function (level) {\r\n      if (lv_check_func(level)) {\r\n        total_skill[slot_str][\"konshin\"] += true_func(level);\r\n      } else {\r\n        total_skill[slot_str][\"konshin\"] += false_func(level);\r\n      }\r\n    };\r\n  }\r\n\r\n  //// この関数は背水に対応\r\n  //// ほぼ上の関数と一緒だが以下の部分が相違\r\n  //// true_func, false_func: skill_levelを受けとりcoefficientを計算する関数\r\n  function bwfunc_gen (slot_str, lv_check_func, true_func, false_func) {\r\n    return function (level) {\r\n      let bw_coefficient = 0;\r\n      if (lv_check_func(level)) {\r\n        bw_coefficient = true_func(level);\r\n      } else {\r\n        bw_coefficient = false_func(level);\r\n      }\r\n      total_skill[slot_str][\"backwater\"] += hp_coefficient * bw_coefficient / 3;\r\n    };\r\n  }\r\n  //// 渡された数値がlevelより下かどうかをチェックする関数を返す関数\r\n  function less_than_chklv(level) {\r\n    return function less_than_chklv(n) { return (n < level); }\r\n  }\r\n  //// addval + (lv - subval) * mulvalを計算する関数を返す関数\r\n  function pcalc_gen(addval, subval, mulval) {\r\n    return function(lv) {\r\n      return addval + (lv - subval) * mulval;\r\n    };\r\n  }\r\n  //// addval + (lv - subval) * mulvalを計算し、さらにhp_p_nを掛ける関数\r\n  function pscalc_gen(addval, subval, mulval) {\r\n    return function(lv) {\r\n      return addval + (lv - subval) * mulval * hp_p_n * hp_p_n * hp_p_n + 2.222222222222222;\r\n    };\r\n  }\r\n  /// スキルと関数を対応させる\r\n  const CHECK_LEVEL = 10;\r\n  let skill_calc_dict = {\r\n    // total_skill.koujin.percent = 0 + (lv - 0) * 1  [lv<10]\r\n    // total_skill.koujin.percent = 10 + (lv - 10) * 0.4 [lv>=10]\r\n    \"normal_kj1\": pfunc_gen(\r\n      \"normal\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(0, 0, 1), pcalc_gen(10, CHECK_LEVEL, 0.4)\r\n    ),\r\n    \"normal_kj2\": pfunc_gen(\r\n      \"normal\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(2, 0, 1), pcalc_gen(12, CHECK_LEVEL, 0.5)\r\n    ),\r\n    \"normal_kj3\": pfunc_gen(\r\n      \"normal\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(5, 0, 1), pcalc_gen(15, CHECK_LEVEL, 0.6)\r\n    ),\r\n    \"normal_kj4\": pfunc_gen(\r\n      \"normal\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(6, 0, 1), pcalc_gen(16, CHECK_LEVEL, 0.8)\r\n    ),\r\n    \"normal_km\": pfunc_gen(\r\n      \"normal\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(0, 0, 1), pcalc_gen(10, CHECK_LEVEL, 0,4)\r\n    ),\r\n    \"magna_kj1\": pfunc_gen(\r\n      \"magna\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(0, 0, 1), pcalc_gen(10, CHECK_LEVEL, 0.4)\r\n    ),\r\n    \"magna_kj2\": pfunc_gen(\r\n      \"magna\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(2, 0, 1), pcalc_gen(12, CHECK_LEVEL, 0.5)\r\n    ),\r\n    \"magna_kj3\": pfunc_gen(\r\n      \"magna\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(5, 0, 1), pcalc_gen(15, CHECK_LEVEL, 0.6)\r\n    ),\r\n    \"magna_km\": pfunc_gen(\r\n      \"magna\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(0, 0, 1), pcalc_gen(10, CHECK_LEVEL, 0,4)\r\n    ),\r\n    \"ex_kj1\": pfunc_gen(\r\n      \"ex\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(0, 0, 1), pcalc_gen(10, CHECK_LEVEL, 0.4)\r\n    ),\r\n    \"ex_kj2\": pfunc_gen(\r\n      \"ex\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(2, 0, 1), pcalc_gen(12, CHECK_LEVEL, 0.5)\r\n    ),\r\n    \"ex_kj3\": pfunc_gen(\r\n      \"ex\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(5, 0, 1), pcalc_gen(15, CHECK_LEVEL, 0.6)\r\n    ),\r\n    \"ex_km\": pfunc_gen(\r\n      \"ex\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(0, 0, 1), pcalc_gen(10, CHECK_LEVEL, 0,4)\r\n    ),\r\n    \"unknown_kj1\": pfunc_gen(\r\n      \"unknown\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(0, 0, 1), pcalc_gen(10, CHECK_LEVEL, 0.4)\r\n    ),\r\n    \"unknown_kj2\": pfunc_gen(\r\n      \"unknown\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(2, 0, 1), pcalc_gen(12, CHECK_LEVEL, 0.5)\r\n    ),\r\n    \"unknown_kj3\": pfunc_gen(\r\n      \"unknown\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(5, 0, 1), pcalc_gen(15, CHECK_LEVEL, 0.6)\r\n    ),\r\n    \"unknown_km\": pfunc_gen(\r\n      \"unknown\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(0, 0, 1), pcalc_gen(10, CHECK_LEVEL, 0,4)\r\n    ),\r\n    \"normal_bw1\": bwfunc_gen(\r\n      \"normal\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.3 + l * 1.8),\r\n      (l) => (18 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"normal_bw2\": bwfunc_gen(\r\n      \"normal\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.4 + l * 2.4),\r\n      (l) => (24 + (l - CHECK_LEVEL) / 5 * 6)\r\n    ),\r\n    \"normal_bw3\": bwfunc_gen(\r\n      \"normal\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.5 + l * 3.0),\r\n      (l) => (30 + (l - CHECK_LEVEL) / 5 * 7.5)\r\n    ),\r\n    \"magna_bw1\": bwfunc_gen(\r\n      \"magna\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.3 + l * 1.8),\r\n      (l) => (18 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"magna_bw2\": bwfunc_gen(\r\n      \"magna\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.4 + l * 2.4),\r\n      (l) => (24 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"magna_bw3\": bwfunc_gen(\r\n      \"magna\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.5 + l * 3.0),\r\n      (l) => (30 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"ex_bw1\": bwfunc_gen(\r\n      \"ex\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.3 + l * 1.8),\r\n      (l) => (18 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"ex_bw2\": bwfunc_gen(\r\n      \"ex\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.4 + l * 2.4),\r\n      (l) => (24 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"ex_bw3\": bwfunc_gen(\r\n      \"ex\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.5 + l * 3.0),\r\n      (l) => (30 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"unknown_bw1\": bwfunc_gen(\r\n      \"unknown\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.3 + l * 1.8),\r\n      (l) => (18 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"unknown_bw2\": bwfunc_gen(\r\n      \"unknown\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.4 + l * 2.4),\r\n      (l) => (24 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"unknown_bw3\": bwfunc_gen(\r\n      \"unknown\", less_than_chklv(CHECK_LEVEL),\r\n      (l) => (-0.5 + l * 3.0),\r\n      (l) => (30 + (l - CHECK_LEVEL) / 5 * 3)\r\n    ),\r\n    \"normal_ks3\": psfunc_gen(\r\n      \"normal\", less_than_chklv(CHECK_LEVEL),\r\n      pscalc_gen(1.923633604, 0, 0.7236096116), pscalc_gen(1.923633604, 0, 0.7236096116)\r\n    ),\r\n    \"magna_ks3\": psfunc_gen(\r\n      \"magna\", less_than_chklv(CHECK_LEVEL),\r\n      pscalc_gen(1.923633604, 0, 0.7236096116), pscalc_gen(1.923633604, 0, 0.7236096116)\r\n    ),\r\n    \"ex_ks3\": psfunc_gen(\r\n      \"ex\", less_than_chklv(CHECK_LEVEL),\r\n      pscalc_gen(1.923633604, 0, 0.7236096116), pscalc_gen(1.923633604, 0, 0.7236096116)\r\n    ),\r\n    \"unknown_ks3\": psfunc_gen(\r\n      \"unknown\", less_than_chklv(CHECK_LEVEL),\r\n      pscalc_gen(1.923633604, 0, 0.7236096116), pscalc_gen(1.923633604, 0, 0.7236096116)\r\n    ),\r\n    \"baha_atk\": pfunc_gen(\r\n      \"baha\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(19, 0, 1), pcalc_gen(30, CHECK_LEVEL, 0.4)\r\n    ),\r\n    \"baha_hp\": pfunc_gen(\r\n      \"baha\", less_than_chklv(CHECK_LEVEL),\r\n      pcalc_gen(9.5, 0, 0.5), pcalc_gen(15, 0, 0)\r\n    ),\r\n  };\r\n  /// スキルとパラメータの集計\r\n  param_obj.weapon.forEach(function(weapon) {\r\n    if (weapon.skill_level === 0) return;  // スキルレベル0はスキル未取得\r\n    // スキルごとの計算\r\n    let skill_name = \"\";\r\n    skill_name = weapon.skill_slot[0] + \"_\" + weapon.skill_type[0];\r\n    if (weapon.skill_type[0] != \"none\") { skill_calc_dict[skill_name](weapon.skill_level); }\r\n    skill_name = weapon.skill_slot[1] + \"_\" + weapon.skill_type[1];\r\n    if (weapon.skill_type[1] != \"none\") { skill_calc_dict[skill_name](weapon.skill_level); }\r\n  });\r\n\r\n  // ステータスの上限等補正\r\n  /// バハ攻%は50を超えない\r\n  total_skill.baha.percent = total_skill.baha.percent > 50 ? 50 : total_skill.baha.percent;\r\n\r\n  // 総合計算\r\n  let total_atk = showed_atk;\r\n  /// 通常攻刃\r\n  total_atk *= 1 + (divine_percent.character + total_skill.baha.percent + (total_skill.normal.percent * divine_percent.zeus / 100) ) / 100;\r\n  /// 通常背水\r\n  total_atk *= 1 + (total_skill.normal.backwater * divine_percent.zeus / 100) / 100;\r\n  /// 通常渾身\r\n  total_atk *= 1 + (total_skill.normal.konshin * divine_percent.zeus / 100) / 100;\r\n  /// マグナ攻刃\r\n  total_atk *= 1 + (total_skill.magna.percent * divine_percent.magna / 100) / 100;\r\n  /// マグナ背水\r\n  total_atk *= 1 + (total_skill.magna.backwater * divine_percent.magna / 100) / 100;\r\n  /// マグナ渾身\r\n  total_atk *= 1 + (total_skill.magna.konshin * divine_percent.magna / 100) / 100;\r\n  /// EX攻刃\r\n  total_atk *= 1 + (total_skill.ex.percent + (total_skill.unknown.percent * divine_percent.unknown / 100) ) / 100;\r\n  /// EX背水\r\n  total_atk *= 1 + (total_skill.ex.backwater + (total_skill.unknown.backwater * divine_percent.unknown / 100) ) / 100;\r\n  /// EX渾身\r\n  total_atk *= 1 + (total_skill.ex.konshin + (total_skill.unknown.konshin * divine_percent.unknown / 100) ) / 100;\r\n  /// 属性\r\n  total_atk *= (divine_percent.attribute + attribute_bonus) / 100;\r\n  /// 騎空艇ボーナス%\r\n  total_atk *= 1 + param_obj.ship_bonus / 100;\r\n\r\n  total_atk = Math.round(total_atk);\r\n  showed_atk = Math.round(showed_atk);\r\n\r\n  // 結果の返却\r\n  return {\r\n    \"basic_atk\": basic_atk,\r\n    \"showed_atk\": showed_atk,\r\n    \"total_atk\": total_atk\r\n  };\r\n}\r\n\r\n\r\n// 武器1つのオブジェクトが妥当な形式かチェックする\r\nexport function is_valid_weapon_obj(weapon_obj) {\r\n  if (!(weapon_obj instanceof Object)) {\r\n    return false;\r\n  }\r\n  let weapon_keys = Object.keys(weapon_obj);\r\n  // 攻撃力\r\n  if (!(weapon_keys.includes(\"atk\") && weapon_obj.atk >= 0)) {\r\n    return false;\r\n  }\r\n  // 武器種別\r\n  if (!(weapon_keys.includes(\"type\") && typeof weapon_obj.type == \"string\")) {\r\n    return false;\r\n  }\r\n  // スキルレベル\r\n  if (!(weapon_keys.includes(\"skill_level\") && weapon_obj.skill_level >= 0)) {\r\n    return false;\r\n  }\r\n  // スキル種別\r\n  if (!(weapon_keys.includes(\"skill_type\") && weapon_obj.skill_type instanceof Array)) {\r\n    return false;\r\n  } else {\r\n    for (let i = 0; i < weapon_obj.skill_type.length; i++) {\r\n      if (!(typeof weapon_obj.skill_type[i] == \"string\")) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  // スキル種別\r\n  if (!(weapon_keys.includes(\"skill_slot\") && weapon_obj.skill_type instanceof Array)) {\r\n    return false;\r\n  } else {\r\n    for (let i = 0; i < weapon_obj.skill_type.length; i++) {\r\n      if (!(typeof weapon_obj.skill_type[i] == \"string\")) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  // チェックを全部パスした\r\n  return true;\r\n}\r\n\r\n\r\n// 召喚1つのオブジェクトが妥当な形式かをチェックする\r\nexport function is_valid_summon_obj(summon_obj) {\r\n  // 攻撃力\r\n  if (!(summon_obj.atk >= 0)) {\r\n    return false;\r\n  }\r\n\r\n  // 加護\r\n  if (!(summon_obj.skill instanceof Array)) {\r\n    return false;\r\n  }\r\n  for (let i = 0; i < summon_obj.skill.length; i++) {\r\n    let chk_val = summon_obj.skill[i];\r\n    if (!(chk_val instanceof Object)) {\r\n      return false;\r\n    }\r\n    if (!(chk_val.hasOwnProperty(\"type\") && typeof chk_val.type == \"string\")) {\r\n      return false;\r\n    }\r\n    if (!(chk_val.hasOwnProperty(\"percent\") && chk_val.percent >= 0)) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // チェックを全て通った\r\n  return true;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/user/Source/Repos/grbl_calc/js/atk_calc.js","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/assign.js\n// module id = 32\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/array/from.js\n// module id = 33\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/get-iterator.js\n// module id = 34\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/define-property.js\n// module id = 35\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/keys.js\n// module id = 36\n// module chunks = 0","module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_an-instance.js\n// module id = 37\n// module chunks = 0","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_dom-create.js\n// module id = 38\n// module chunks = 0","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_enum-bug-keys.js\n// module id = 39\n// module chunks = 0","// check on default Array iterator\nvar Iterators  = require('./_iterators')\n  , ITERATOR   = require('./_wks')('iterator')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-array-iter.js\n// module id = 40\n// module chunks = 0","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-call.js\n// module id = 41\n// module chunks = 0","module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-step.js\n// module id = 42\n// module chunks = 0","var META     = require('./_uid')('meta')\n  , isObject = require('./_is-object')\n  , has      = require('./_has')\n  , setDesc  = require('./_object-dp').f\n  , id       = 0;\nvar isExtensible = Object.isExtensible || function(){\n  return true;\n};\nvar FREEZE = !require('./_fails')(function(){\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function(it){\n  setDesc(it, META, {value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  }});\n};\nvar fastKey = function(it, create){\n  // return primitive with prefix\n  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return 'F';\n    // not necessary to add metadata\n    if(!create)return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function(it, create){\n  if(!has(it, META)){\n    // can't set metadata to uncaught frozen object\n    if(!isExtensible(it))return true;\n    // not necessary to add metadata\n    if(!create)return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function(it){\n  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY:      META,\n  NEED:     false,\n  fastKey:  fastKey,\n  getWeak:  getWeak,\n  onFreeze: onFreeze\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_meta.js\n// module id = 43\n// module chunks = 0","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = require('./_an-object')\n  , dPs         = require('./_object-dps')\n  , enumBugKeys = require('./_enum-bug-keys')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-create.js\n// module id = 44\n// module chunks = 0","exports.f = {}.propertyIsEnumerable;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-pie.js\n// module id = 45\n// module chunks = 0","var hide = require('./_hide');\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_redefine-all.js\n// module id = 46\n// module chunks = 0","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_shared.js\n// module id = 47\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() { return this; })();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 48\n// module chunks = 0","// vim: set sw=2 sts=2 ts=2 expandtab\r\n\r\n/*\r\n * ジョブの基礎的な情報を記した\r\n * 定数\r\n */\r\n\r\nlet job_data = {\r\n  \"Fighter\": {  // 職の英語名(計算機内部で参照される)\r\n    \"specialty\" : [\"sword\", \"axe\"],  // 武器の英語名(計算機内部と表示で参照される)\r\n    \"atk_value\" : 1500,  // 攻撃力ボーナス(値)\r\n    \"atk_rate\"  : 0,  // 攻撃力ボーナス(％)\r\n  },\r\n  \"Knight\": {\r\n    \"specialty\" : [\"sword\", \"spear\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Priest\": {\r\n    \"specialty\" : [\"stuff\", \"spear\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Wizard\": {\r\n    \"specialty\" : [\"stuff\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Thief\": {\r\n    \"specialty\" : [\"dagger\", \"gun\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Enhancer\": {\r\n    \"specialty\" : [\"sword\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Grappler\": {\r\n    \"specialty\" : [\"knuckle\", \"knuckle\"],\r\n    \"atk_value\" : 1000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Ranger\": {\r\n    \"specialty\" : [\"bow\", \"gun\"],\r\n    \"atk_value\" : 500,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Harpist\": {\r\n    \"specialty\" : [\"instrument\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Lancer\": {\r\n    \"specialty\" : [\"spear\", \"axe\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 5,\r\n  },\r\n  \"Warrior\": {\r\n    \"specialty\" : [\"sword\", \"axe\"],\r\n    \"atk_value\" : 3000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Fortress\": {\r\n    \"specialty\" : [\"sword\", \"spear\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Cleric\": {\r\n    \"specialty\" : [\"stuff\", \"spear\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Sorcerer\": {\r\n    \"specialty\" : [\"stuff\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Raider\": {\r\n    \"specialty\" : [\"dagger\", \"gun\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"ArcanaSword\": {\r\n    \"specialty\" : [\"sword\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"KungFu\": {\r\n    \"specialty\" : [\"knuckle\", \"knuckle\"],\r\n    \"atk_value\" : 2000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Marksman\": {\r\n    \"specialty\" : [\"bow\", \"gun\"],\r\n    \"atk_value\" : 750,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Minstrel\": {\r\n    \"specialty\" : [\"instrument\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Dragoon\": {\r\n    \"specialty\" : [\"spear\", \"axe\"],\r\n    \"atk_value\" : 1000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"WeaponMaster\": {\r\n    \"specialty\" : [\"sword\", \"axe\"],\r\n    \"atk_value\" : 4500,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"HolySaber\": {\r\n    \"specialty\" : [\"sword\", \"spear\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Bishop\": {\r\n    \"specialty\" : [\"stuff\", \"spear\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Hermit\": {\r\n    \"specialty\" : [\"stuff\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Hawkeye\": {\r\n    \"specialty\" : [\"dagger\", \"gun\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"DarkFencer\": {\r\n    \"specialty\" : [\"sword\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Ogre\": {\r\n    \"specialty\" : [\"knuckle\", \"knuckle\"],\r\n    \"atk_value\" : 2000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Sidewinder\": {\r\n    \"specialty\" : [\"bow\", \"gun\"],\r\n    \"atk_value\" : 1000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Superstar\": {\r\n    \"specialty\" : [\"instrument\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Valkyrie\": {\r\n    \"specialty\" : [\"spear\", \"axe\"],\r\n    \"atk_value\" : 500,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Berserk\": {\r\n    \"specialty\" : [\"sword\", \"axe\"],\r\n    \"atk_value\" : 6000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Sparta\": {\r\n    \"specialty\" : [\"stuff\", \"spear\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Sage\": {\r\n    \"specialty\" : [\"sword\", \"spear\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Warlock\": {\r\n    \"specialty\" : [\"stuff\", \"dagger\"],\r\n    \"atk_value\" : 2000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Gizoku\": {\r\n    \"specialty\" : [\"dagger\", \"gun\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"ChaosRuler\": {\r\n    \"specialty\" : [\"sword\", \"dagger\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Wrestler\": {\r\n    \"specialty\" : [\"knuckle\", \"knuckle\"],\r\n    \"atk_value\" : 2000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Alchemist\": {\r\n    \"specialty\" : [\"dagger\", \"gun\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Ninja\": {\r\n    \"specialty\" : [\"blade\", \"knuckle\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Samurai\": {\r\n    \"specialty\" : [\"blade\", \"bow\"],\r\n    \"atk_value\" : 3000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"SwordMaster\": {\r\n    \"specialty\" : [\"sword\", \"blade\"],\r\n    \"atk_value\" : 1500,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Gunslinger\": {\r\n    \"specialty\" : [\"gun\", \"gun\"],\r\n    \"atk_value\" : 1000,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Mystic\": {\r\n    \"specialty\" : [\"stuff\", \"stuff\"],\r\n    \"atk_value\" : 0,\r\n    \"atk_rate\"  : 0,\r\n  },\r\n  \"Assassin\": {\r\n    \"specialty\" : [\"dagger\", \"dagger\"],\r\n    \"atk_value\" : 1000,\r\n    \"atk_rate\"  : 0,\r\n  }\r\n};\r\n\r\nexport default job_data;\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/user/Source/Repos/grbl_calc/js/const/job_data.js","// vim: sts=2 sw=2 ts=2 expandtab\r\n\r\n/*\r\n * 編成最適化WebWorkerとのやりとりをするための\r\n * 定数群\r\n */\r\n\r\nexport const WORKER_STATE = {\r\n  STOP: \"STOP\",  // 停止している状態\r\n  INITED: \"INITED\",  // 初期化された状態\r\n  TERMINATE: \"TERMINATE\",  // 最適化ルーチンが中断された状態\r\n  RUNNING: \"RUNNING\",  // GAによる最適化ルーチンが走っている状態\r\n  FINISH: \"FINISH\"  // 最適化ルーチンが走り終わった状態\r\n};\r\n\r\nexport const WORKER_COMMAND = {\r\n  GET_STATE: \"GET_STATE\",  // Workerの現在の状態を取得する\r\n  SET_GA_PARAM: \"SET_GA_PARAM\",  // GAのパラメータを設定する\r\n  SET_BASIC_INFO: \"SET_BASIC_INFO\",  // 基礎的な攻撃力等のパラメータを設定する\r\n  SET_WEAPON: \"SET_WEAPON\",  // 武器の配列を設定する\r\n  SET_SUMMON: \"SET_SUMMON\",  // 召喚の配列を設定する\r\n  SET_FRIEND: \"SET_FRIEND\",  // フレンド召喚の配列を設定する\r\n  INIT: \"INIT_OPTIMIZER\",  // 最適化計算機を初期化する\r\n  RUN: \"RUN_OPTIMIZER\",  // 最適化計算機を走らせる\r\n  RESET: \"RESET\",  // 内部状態をリセットする\r\n  TERMINATE: \"TERMINATE_OPTIMIZER\"  // 計算機を中断させる\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/user/Source/Repos/grbl_calc/js/const/worker_type.js","// vim: sts=2 sw=2 ts=2 expandtab\r\n\r\n/*\r\n * なにか上手いやり方をして\r\n * 全体の攻撃力を適当に最高なところまで\r\n * 引きあげる計算をするファイル\r\n */\r\n\r\nimport {\r\n  calculate_atkval,\r\n  is_valid_weapon_obj,\r\n  is_valid_summon_obj\r\n} from \"./atk_calc\";\r\n\r\n// 現在の計算状態を表わす定数\r\nexport const CALC_STATE = {\r\n  UNINIT: \"UNINIT\",\r\n  PARAM_INITED: \"PARAM_INITED\",\r\n  GA_INITED: \"GA_INITED\",\r\n  CALC_VALUE: \"CALC_VALUE\",\r\n  SORT_POPULATION: \"SORT_POPULATION\",\r\n  SELECT_POPULATION: \"SELECT_POPULATION\",\r\n  INTERSECT_GENE: \"INTERSECT_GENE\",\r\n  MUTATION: \"MUTATION\",\r\n  LOOP_START: \"LOOP_START\",\r\n  LOOP_END: \"LOOP_END\"\r\n};\r\n\r\n\r\n// [min, max]の乱整数を返す\r\n// from: https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Math/random\r\nfunction get_random_int(min, max) {\r\n  return Math.floor( Math.random() * (max - min + 1) ) + min;\r\n}\r\n\r\n\r\n// 遺伝的アルゴリズムを用いて最適編成を求めようとするクラス\r\n/*\r\n * gene(遺伝子): 遺伝情報を表わす要素。今回は正の整数([1,max_length])を使う。\r\n * chromosome(染色体): 遺伝子が並んだ一次元配列。\r\n * population(集団): 染色体によって表わされた個体(individual)の集団。\r\n *\r\n * 1つの遺伝子は\r\n * 「前の遺伝子が示している(武器|召喚|フレンド召喚)の位置からの距離」を\r\n * 示す。その分だけ配列の末端へシフトしたのが示されるもの。\r\n * 末端を超えた分は先頭へループする。\r\n * 一番最初だけは配列の先頭を指しているものと考える。\r\n */\r\nexport class GrblFormGAOptimizer {\r\n  // コンストラクタ\r\n  // 初期の計算状態を設定する\r\n  constructor() {\r\n    this.state = { status: CALC_STATE.UNINIT };\r\n  }\r\n\r\n  // 計算前の初期化関数\r\n  // 計算に必要な各オブジェクトを受けとる\r\n  // 戻り値としてジェネレータを返す\r\n  // TODO: (まだ)再度initされることは想定していない\r\n  init(base_param, weapon_list, summon_list, friend_list, job_data) {\r\n    // 必要な変数に代入する\r\n    this.base = Object.assign({}, base_param);\r\n    this.weapon_list = Array.from(weapon_list, x => {return is_valid_weapon_obj(x) ? x : null;} );\r\n    this.summon_list = Array.from(summon_list, x => {return is_valid_summon_obj(x) ? x : null;} );\r\n    this.friend_list = Array.from(friend_list, x => {return is_valid_summon_obj(x) ? x : null;} );  // フレンド召喚も召喚\r\n    this.job_data = job_data;  // job_dataは変更されないことが前提\r\n\r\n    // 配列を辞書に変換する関数\r\n    let arytoobj = (list) => {\r\n      let obj = {};\r\n      for (let i = 0; i < list.length; i++) {\r\n        let target = list[i];\r\n        if (target instanceof Object) {\r\n          if (!(\"max\" in target && target.max >= 0)) {\r\n            target.max = 1\r\n          }\r\n          if (!(\"min\" in target && target.min >= 0)) {\r\n            target.min = 0\r\n          }\r\n          obj[String(i)] = target;\r\n        }\r\n      }\r\n      return obj;\r\n    }\r\n\r\n    // 武器配列を辞書に変換する\r\n    this.weapon_obj = arytoobj(this.weapon_list);\r\n    // 召喚配列を辞書に変換する\r\n    this.summon_obj = arytoobj(this.summon_list);\r\n    // フレンド召喚配列を辞書に変換する\r\n    this.friend_obj = arytoobj(this.friend_list);\r\n\r\n    // 染色体用のリストを作る関数\r\n    let objtoref = (obj) => {\r\n      let ref_list = [];\r\n      for (let i of Object.keys(obj)) {\r\n        for (let j = 0; j < obj[i].max; j++) {\r\n          ref_list.push(i);\r\n        }\r\n      }\r\n      return ref_list;\r\n    };\r\n\r\n    // 染色体の参照リストを作る\r\n    this.ref = {\r\n      weapon: objtoref(this.weapon_obj),\r\n      summon: objtoref(this.summon_obj),\r\n      friend: objtoref(this.friend_obj)\r\n    };\r\n\r\n    // 染色体の最大長を設定する\r\n    // TODO: ハードコーディングなのでもっとマシにする\r\n    this.weapon_max_chromo_length = this.ref.weapon.length > 10 ? 10 : this.ref.weapon.length;\r\n    this.summon_max_chromo_length = this.ref.summon.length > 5 ? 5 : this.ref.summon.length;\r\n    this.friend_max_chromo_length = this.ref.friend.length > 1 ? 1 : this.ref.friend.length;\r\n\r\n    // 状態変数を初期状態に\r\n    this.state.status = CALC_STATE.PARAM_INITED;\r\n\r\n    // ジェネレータを作って返す\r\n    return this.calculate_();\r\n  }\r\n\r\n  // 初期状態を作成する関数\r\n  // 集団の大きさ、各パラメータごとの変異率を設定する\r\n  create_first_ga_state(population_length, weapon_mutation, summon_mutation, friend_mutation) {\r\n\r\n    // 集団の大きさをチェックする\r\n    population_length = population_length > 0 ? population_length : 50;\r\n\r\n    // 突然変異確率を指定する\r\n    weapon_mutation = ((weapon_mutation > 0) && (weapon_mutation < 1)) ? weapon_mutation : 0.01;\r\n    summon_mutation = ((summon_mutation > 0) && (summon_mutation < 1)) ? summon_mutation : 0.01;\r\n    friend_mutation = ((friend_mutation > 0) && (friend_mutation < 1)) ? friend_mutation : 0.01;\r\n\r\n    // 集団を作成する汎用関数\r\n    let create_ga_state = (max_num, c_length, m_prob) => {\r\n      // パラメータを設定\r\n      let mutation_probability = Number(m_prob);\r\n      let chromo_length = Number(c_length);\r\n      let max_gene_number = Number(max_num);\r\n      let length = population_length;\r\n      let population = [];\r\n\r\n      // 初期集団を生成する\r\n      for (let i = 0; i < length; i++) {\r\n        // 順序列の生成\r\n        let tmp_ary = [...Array(max_gene_number).keys()];  // [0,1,2,...]\r\n        // 生成された順序列を乱雑なものにする\r\n        for (let j = max_gene_number - 1; j > 0; j--) {\r\n          let ri = get_random_int(0, j);\r\n          [tmp_ary[ri], tmp_ary[j]] = [tmp_ary[j], tmp_ary[ri]];\r\n        }\r\n\r\n        // 個体の生成\r\n        // 遺伝子は順序表現(残りの中で何番目にあるか)\r\n        // ※0ベース\r\n        let individual = [];\r\n        let gene_numbers = [...Array(max_gene_number).keys()];\r\n        for (let i of tmp_ary) {\r\n          let index = gene_numbers.indexOf(i);\r\n          individual.push(index);\r\n          gene_numbers.splice(index, 1);\r\n        }\r\n\r\n        // 集団に積みこむ\r\n        population.push(individual);\r\n      }\r\n\r\n      // 生成された集団と各パラメータを返す\r\n      return [ population, { mutation_probability, chromo_length, max_gene_number }];\r\n    };\r\n\r\n    // 実際に武器等の状態を作成する\r\n    // [a, b] = [1, 2] -> a = 1; b = 2;\r\n    let [weapon_ga_ary, weapon_ga_param] = create_ga_state(this.ref.weapon.length, this.weapon_max_chromo_length, weapon_mutation);\r\n    let [summon_ga_ary, summon_ga_param] = create_ga_state(this.ref.summon.length, this.summon_max_chromo_length, summon_mutation);\r\n    let [friend_ga_ary, friend_ga_param] = create_ga_state(this.ref.friend.length, this.friend_max_chromo_length, friend_mutation);\r\n\r\n    // 最終的な初期状態を生成する\r\n    let ga_param = { population: [], param: { weapon: weapon_ga_param, summon: summon_ga_param, friend: friend_ga_param, base: this.base } };\r\n    for (let i = 0; i < population_length; i++) {\r\n      let individual = { weapon: weapon_ga_ary[i], summon: summon_ga_ary[i], friend: friend_ga_ary[i], value: null };\r\n      ga_param.population.push(individual);\r\n    }\r\n    ga_param.max_population_length = population_length;\r\n\r\n    // 現在の状態を設定する\r\n    this.state.status = CALC_STATE.GA_INITED;\r\n    this.state.ga_state = ga_param;\r\n    return true;\r\n  }\r\n\r\n  /*\r\n   * 個体はobjtorefで作成されたリストを参照する染色体で出来ている。\r\n   * objtorefによって作成されたリストはarytoobjで作成されたObjectを参照している。\r\n   */\r\n\r\n  // 順序表現で記された染色体を元の表記を表わす配列に変換する関数\r\n  // 0ベース\r\n  conv_orderchromos_to_origchromos(chromos, length) {\r\n    let gene_array = [...Array(length).keys()];\r\n    let result = [];\r\n    for (let i of chromos) {\r\n      result.push(gene_array[i]);\r\n      gene_array.splice(i, 1);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  // 元の表記(配列のindex)で表わされた遺伝子をキーの配列に変換する関数\r\n  conv_origchromos_to_objkeyarray(chromos, ref_array) {\r\n    return chromos.map((i) => { return ref_array[i] });\r\n  }\r\n\r\n  // オブジェクトのキー配列を遺伝子から生成する関数\r\n  conv_chromos_to_array(chromos, ref_array) {\r\n    let result = this.conv_origchromos_to_objkeyarray(\r\n      this.conv_orderchromos_to_origchromos(chromos, ref_array.length),\r\n      ref_array\r\n    );\r\n    return result;\r\n  }\r\n\r\n  // キーの配列からObjectの配列に変換する関数\r\n  objkeyarray_to_objarray(ary, ref_obj) {\r\n    let result = [];\r\n    ary.forEach(function (key) {\r\n      result.push(ref_obj[String(key)]);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  // individualとして渡された個体の価値を求める\r\n  evaluate_value(individual) {\r\n    // キーの配列に対して同じキーを指しているものが「ない」かをチェックする\r\n    function is_valid_key_array(ary) {\r\n      let s = new Set(ary);\r\n      return (s.size == ary.length);\r\n    }\r\n\r\n    // 個体の染色体をキーを表わす配列に変換する\r\n    let [weapon_ary, summon_ary, friend_ary] =\r\n    [\r\n      this.conv_chromos_to_array(individual.weapon, this.ref.weapon),\r\n      this.conv_chromos_to_array(individual.summon, this.ref.summon),\r\n      this.conv_chromos_to_array(individual.friend, this.ref.friend)\r\n    ];\r\n\r\n    // もし同じものを2度選択しているなら、その個体の価値は0\r\n    let valid_ary = [weapon_ary, summon_ary, friend_ary];\r\n    let valid_result = new Array();\r\n    valid_ary.forEach((v) => { valid_result.push(is_valid_key_array(v)) });\r\n    if (valid_result.includes(false)) return 0;\r\n\r\n    // キー値を示す配列からパラメータを生成する\r\n    let param_weapon = this.objkeyarray_to_objarray(weapon_ary, this.weapon_obj);\r\n    let param_summon = this.objkeyarray_to_objarray(summon_ary, this.summon_obj);\r\n    let param_friend = this.objkeyarray_to_objarray(friend_ary, this.friend_obj);\r\n\r\n    // 最終的な算出に使うパラメータを生成する\r\n    // TODO: ハードコーディングしてるのをどうにかする\r\n    // sliceは添字の*直前*まで取りだす\r\n    let final_param = Object.assign({}, this.base, {\r\n      weapon: param_weapon.slice(0, 10),\r\n      summon: param_summon.slice(0, 5),\r\n      friend: param_friend[0]\r\n    });\r\n\r\n    // 最終的な攻撃力を算出して返す\r\n    let result;\r\n    result = calculate_atkval(final_param, this.job_data);\r\n    result = result.total_atk;\r\n    return [result, final_param];\r\n  }\r\n\r\n  // 各個体に価値(攻撃力)を設定する\r\n  // 価値の見積りは途中で中断可能にする\r\n  *assign_value() {\r\n    // 現在のステートを実行前に設定する\r\n    this.state.status = CALC_STATE.CALC_VALUE;\r\n    // 分数形式の文字列として渡すために最大長を文字列として保管する\r\n    let l = String(this.state.ga_state.population.length);\r\n\r\n    // 集団を個体に分解して価値を付ける\r\n    for (let i = 0; i < this.state.ga_state.population.length; i++ ) {\r\n      // 個体を取りだす\r\n      let individual = this.state.ga_state.population[i];\r\n      // 価値を付ける\r\n      let result = this.evaluate_value(individual);\r\n      this.state.ga_state.population[i].value = result[0];\r\n      // 外に出すメッセージ用の文字列を設定する\r\n      this.state.message = \"ASSIGN VALUE: \" + String(i+1) + \"/\" + String(l);\r\n      // いったん中断する\r\n      yield this.state;\r\n    }\r\n  }\r\n\r\n  // 集団を価値によってソートする\r\n  // ソートは中断困難なのでジェネレータにしない\r\n  sort_population() {\r\n    this.state.status = CALC_STATE.SORT_POPULATION;\r\n    this.state.message = \"SORTING\";\r\n    this.state.ga_state.population.sort((l, r) => {\r\n      if (l === null && r === null) {\r\n        return 0;\r\n      } else if (r === null) {\r\n        return -1;\r\n      } else if (l === null) {\r\n        return 1;\r\n      } else {\r\n        return r.value - l.value;\r\n      }\r\n    });\r\n    this.state.message = \"SORTED\";\r\n  }\r\n\r\n  // 集団の選別をする関数\r\n  *select_population() {\r\n    this.state.status = CALC_STATE.SELECT_POPULATION;\r\n    this.state.message = \"START SELECTION\";\r\n    // 価値が無い個体を削除する\r\n    this.state.ga_state.population = this.state.ga_state.population.filter((v) => {\r\n      return (v.value != null && v.value > 0);\r\n    });\r\n    yield this.state;\r\n    // 個体が1つだと選別できない\r\n    if (this.state.ga_state.population.length > 1){\r\n      // 全体の価値最大値を保存する\r\n      let max_value = this.state.ga_state.population[0].value;\r\n      let population_length = this.state.ga_state.population.length;\r\n      let min_value = this.state.ga_state.population[population_length - 1].value;\r\n      // 全体の半分以上になるまで選別する\r\n      // TODO: ハードコーディングしているのをどうにかする\r\n      let target_length = Math.round(this.state.ga_state.population.length / 2);\r\n      let new_population = this.state.ga_state.population.slice(0, Math.round(target_length / 2));\r\n      let total_value = 0;\r\n      this.state.ga_state.population.forEach((v) => { total_value = total_value + v.value; });\r\n      while (target_length > new_population.length) {\r\n        this.state.ga_state.population.forEach((v) => {\r\n          if (Math.random() < (v.value / total_value)) {\r\n            new_population.push(v);\r\n          }\r\n        });\r\n      }\r\n      this.state.ga_state.population = new_population;\r\n      this.state.message = \"SELECTION:\" + String(this.state.ga_state.population.length);\r\n      yield this.state;\r\n    }\r\n    this.state.message = \"FINISH SELECTION\";\r\n    yield this.state;\r\n  }\r\n\r\n  // 交叉を行なうジェネレータ関数\r\n  *intersect() {\r\n    this.state.status = CALC_STATE.INTERSECT_GENE;\r\n    this.state.message = \"START INTERSECTION\";\r\n    // 2つの遺伝子を受けとり交叉して新しい2つの遺伝子を返す関数\r\n    // l_gene.length === r_gene.length\r\n    let intersect_gene = (l_gene, r_gene) => {\r\n      let i_point = [get_random_int(0, l_gene.length), get_random_int(0, l_gene.length)];\r\n      // 交叉する\r\n      if (i_point[0] === i_point[1]) {\r\n        if (i_point[0] == 0 || i_point[0] == l_gene.length) {\r\n          return [r_gene, l_gene];\r\n        } else {\r\n          if (i_point[0] < i_point[1]) {\r\n            [i_point[1], i_point[0]] = [i_point[0], i_point[1]];\r\n          }\r\n          let i_length = i_point[1] - i_point[0];\r\n          let l_cut = l_gene.splice(i_point[0], i_length);\r\n          let r_cut = r_gene.splice(i_point[0], i_length);\r\n          l_gene.splice(i_point[0], 0, ...r_cut);\r\n          r_gene.splice(i_point[0], 0, ...l_cut);\r\n        }\r\n      }\r\n      return [l_gene, r_gene];\r\n    };\r\n    // 必要な分だけ交叉して個体を集団に追加する\r\n    while (this.state.ga_state.population.length < this.state.ga_state.max_population_length) {\r\n      // 交叉の対象となる2つの個体を選択する\r\n      // TODO: 1つしか個体が無かった場合の処理をどうにかする\r\n      let target_num = [0, 0];\r\n      while (target_num[0] === target_num[1]) {\r\n        target_num[0] = get_random_int(0, this.state.ga_state.population.length - 1);\r\n        target_num[1] = get_random_int(0, this.state.ga_state.population.length - 1);\r\n      }\r\n      // 交叉対象となる個体をコピーする\r\n      // そのまま代入すると元も変更されてしまう\r\n      let template_gene = {weapon: [], summon: [], friend: []};\r\n      let l_gene = Object.assign({}, template_gene);\r\n      let r_gene = Object.assign({}, template_gene);\r\n      l_gene.weapon = Array.from(this.state.ga_state.population[target_num[0]].weapon);\r\n      l_gene.summon = Array.from(this.state.ga_state.population[target_num[0]].summon);\r\n      l_gene.friend = Array.from(this.state.ga_state.population[target_num[0]].friend);\r\n      r_gene.weapon = Array.from(this.state.ga_state.population[target_num[1]].weapon);\r\n      r_gene.summon = Array.from(this.state.ga_state.population[target_num[1]].summon);\r\n      r_gene.friend = Array.from(this.state.ga_state.population[target_num[1]].friend);\r\n      // 交叉して結果をもらう\r\n      // intersect_geneは[遺伝子, 遺伝子]を返す\r\n      // TODO: データ構造が直前と違うのでどうにかしたい\r\n      let i_result = [Object.assign(template_gene), Object.assign(template_gene)];\r\n      [i_result[0].weapon, i_result[1].weapon] = intersect_gene(l_gene.weapon, r_gene.weapon);\r\n      [i_result[0].summon, i_result[1].summon] = intersect_gene(l_gene.summon, r_gene.summon);\r\n      [i_result[0].friend, i_result[1].friend] = intersect_gene(l_gene.friend, r_gene.friend);\r\n      this.state.ga_state.population = this.state.ga_state.population.concat(i_result);\r\n      this.state.message = \"INTERSECTION: \" + Number(this.state.ga_state.population.length);\r\n      yield this.state;\r\n    }\r\n    this.state.message = \"FINISH INTERSECTION\";\r\n    yield this.state;\r\n  }\r\n\r\n  // 突然変異を行なうジェネレータ関数\r\n  *mutation() {\r\n    // 変異前に状態変更\r\n    this.state.status = CALC_STATE.MUTATION;\r\n    this.state.message = \"START MUTATION\";\r\n    yield this.state;\r\n    // 変異の開始\r\n    const gene_type = [\"weapon\", \"summon\", \"friend\"];\r\n    for (let individual of this.state.ga_state.population) {\r\n      let target = Object.assign({}, individual);\r\n      for (let t of gene_type) {\r\n        // 変異する確率判定に成功したなら2つの遺伝子を入れかえる\r\n        if (Math.random() < this.state.ga_state.param[t].mutation_probability) {\r\n          let target_num = [0, 0];\r\n          // そもそも対象の遺伝子の長さが1なら入れかえようがない\r\n          if (individual[t].length != 1) {\r\n            // ランダムに2つの遺伝子を選択する\r\n            while (target_num[0] === target_num[1]) {\r\n              target_num[0] = get_random_int(0, individual[t].length - 1);\r\n              target_num[1] = get_random_int(0, individual[t].length - 1);\r\n            }\r\n            // いったんキー(位置)に戻してから入れかえる\r\n            let tmp_orig = this.conv_orderchromos_to_origchromos(individual[t], this.ref[t].length);\r\n            [tmp_orig[target_num[1]], tmp_orig[target_num[0]]] = [tmp_orig[target_num[0]], tmp_orig[target_num[1]]];\r\n            // キーを順序表記に変換する\r\n            let tmp_indi = [];\r\n            let max_gene_number = this.state.ga_state.param[t].max_gene_number;\r\n            let gene_numbers = [...Array(max_gene_number).keys()];\r\n            for (let i of tmp_orig) {\r\n              let index = gene_numbers.indexOf(i);\r\n              tmp_indi.push(index);\r\n              gene_numbers.splice(index, 1);\r\n            }\r\n            target[t] = tmp_indi;\r\n          }\r\n        }\r\n      }\r\n      // もし変異した結果のほうがよかったのなら入れかえる\r\n      if (this.evaluate_value(individual) < this.evaluate_value(target)) {\r\n        individual = target;\r\n      }\r\n    }\r\n    // 変異後の状態変更\r\n    this.state.message = \"FINISHED MUTATION\";\r\n    yield this.state;\r\n  }\r\n\r\n  // 計算を進めるジェネレータ関数\r\n  // 計算の状態はObjectで返ってくる(はず)\r\n  *calculate_() {\r\n    // パラメータを初期化(=初期集団を生成)するまで待つ\r\n    while (this.state.status == CALC_STATE.PARAM_INITED) {\r\n      yield this.state;\r\n    }\r\n    // 初期集団に価値を設定してソートする\r\n    yield* this.assign_value();\r\n    this.sort_population();\r\n    yield this.state;\r\n\r\n    // 永久に回す\r\n    // 止めるかどうかは呼びだし元次第\r\n    while (true) {\r\n      // ループスタート\r\n      this.state.status == CALC_STATE.LOOP_START;\r\n      this.state.message == \"Loop begin.\";\r\n      yield this.state;\r\n\r\n      // 選別\r\n      yield* this.select_population();\r\n\r\n      // 交叉\r\n      yield* this.intersect();\r\n\r\n      // 突然変異\r\n      yield* this.mutation();\r\n\r\n      // 価値を設定してソート\r\n      yield* this.assign_value();\r\n      this.sort_population();\r\n      yield this.state;\r\n\r\n      // ループエンド\r\n      // トップの価値をメッセージにする\r\n      this.state.status = CALC_STATE.LOOP_END;\r\n      this.state.message = \"CURRENT TOP: \" + String(this.state.ga_state.population[0].value);\r\n      yield this.state;\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/user/Source/Repos/grbl_calc/js/optimize_atk.js","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/values.js\n// module id = 52\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/defineProperty.js\n// module id = 53\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/is-iterable.js\n// module id = 54\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/set\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/set.js\n// module id = 55\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/classCallCheck.js\n// module id = 56\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/createClass.js\n// module id = 57\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/slicedToArray.js\n// module id = 58\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/toConsumableArray.js\n// module id = 59\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/regenerator/index.js\n// module id = 60\n// module chunks = 0","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/array/from.js\n// module id = 61\n// module chunks = 0","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/get-iterator.js\n// module id = 62\n// module chunks = 0","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/is-iterable.js\n// module id = 63\n// module chunks = 0","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/assign.js\n// module id = 64\n// module chunks = 0","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/define-property.js\n// module id = 65\n// module chunks = 0","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/keys.js\n// module id = 66\n// module chunks = 0","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/values.js\n// module id = 67\n// module chunks = 0","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nmodule.exports = require('../modules/_core').Set;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/set.js\n// module id = 68\n// module chunks = 0","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_a-function.js\n// module id = 69\n// module chunks = 0","module.exports = function(){ /* empty */ };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_add-to-unscopables.js\n// module id = 70\n// module chunks = 0","var forOf = require('./_for-of');\n\nmodule.exports = function(iter, ITERATOR){\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_array-from-iterable.js\n// module id = 71\n// module chunks = 0","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_array-includes.js\n// module id = 72\n// module chunks = 0","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx      = require('./_ctx')\n  , IObject  = require('./_iobject')\n  , toObject = require('./_to-object')\n  , toLength = require('./_to-length')\n  , asc      = require('./_array-species-create');\nmodule.exports = function(TYPE, $create){\n  var IS_MAP        = TYPE == 1\n    , IS_FILTER     = TYPE == 2\n    , IS_SOME       = TYPE == 3\n    , IS_EVERY      = TYPE == 4\n    , IS_FIND_INDEX = TYPE == 6\n    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX\n    , create        = $create || asc;\n  return function($this, callbackfn, that){\n    var O      = toObject($this)\n      , self   = IObject(O)\n      , f      = ctx(callbackfn, that, 3)\n      , length = toLength(self.length)\n      , index  = 0\n      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined\n      , val, res;\n    for(;length > index; index++)if(NO_HOLES || index in self){\n      val = self[index];\n      res = f(val, index, O);\n      if(TYPE){\n        if(IS_MAP)result[index] = res;            // map\n        else if(res)switch(TYPE){\n          case 3: return true;                    // some\n          case 5: return val;                     // find\n          case 6: return index;                   // findIndex\n          case 2: result.push(val);               // filter\n        } else if(IS_EVERY)return false;          // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_array-methods.js\n// module id = 73\n// module chunks = 0","var isObject = require('./_is-object')\n  , isArray  = require('./_is-array')\n  , SPECIES  = require('./_wks')('species');\n\nmodule.exports = function(original){\n  var C;\n  if(isArray(original)){\n    C = original.constructor;\n    // cross-realm fallback\n    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;\n    if(isObject(C)){\n      C = C[SPECIES];\n      if(C === null)C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_array-species-constructor.js\n// module id = 74\n// module chunks = 0","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function(original, length){\n  return new (speciesConstructor(original))(length);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_array-species-create.js\n// module id = 75\n// module chunks = 0","'use strict';\nvar dP          = require('./_object-dp').f\n  , create      = require('./_object-create')\n  , redefineAll = require('./_redefine-all')\n  , ctx         = require('./_ctx')\n  , anInstance  = require('./_an-instance')\n  , defined     = require('./_defined')\n  , forOf       = require('./_for-of')\n  , $iterDefine = require('./_iter-define')\n  , step        = require('./_iter-step')\n  , setSpecies  = require('./_set-species')\n  , DESCRIPTORS = require('./_descriptors')\n  , fastKey     = require('./_meta').fastKey\n  , SIZE        = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function(that, key){\n  // fast case\n  var index = fastKey(key), entry;\n  if(index !== 'F')return that._i[index];\n  // frozen object case\n  for(entry = that._f; entry; entry = entry.n){\n    if(entry.k == key)return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){\n    var C = wrapper(function(that, iterable){\n      anInstance(that, C, NAME, '_i');\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear(){\n        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){\n          entry.r = true;\n          if(entry.p)entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function(key){\n        var that  = this\n          , entry = getEntry(that, key);\n        if(entry){\n          var next = entry.n\n            , prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if(prev)prev.n = next;\n          if(next)next.p = prev;\n          if(that._f == entry)that._f = next;\n          if(that._l == entry)that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /*, that = undefined */){\n        anInstance(this, C, 'forEach');\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)\n          , entry;\n        while(entry = entry ? entry.n : this._f){\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while(entry && entry.r)entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key){\n        return !!getEntry(this, key);\n      }\n    });\n    if(DESCRIPTORS)dP(C.prototype, 'size', {\n      get: function(){\n        return defined(this[SIZE]);\n      }\n    });\n    return C;\n  },\n  def: function(that, key, value){\n    var entry = getEntry(that, key)\n      , prev, index;\n    // change existing entry\n    if(entry){\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if(!that._f)that._f = entry;\n      if(prev)prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if(index !== 'F')that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP){\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function(iterated, kind){\n      this._t = iterated;  // target\n      this._k = kind;      // kind\n      this._l = undefined; // previous\n    }, function(){\n      var that  = this\n        , kind  = that._k\n        , entry = that._l;\n      // revert to the last existing entry\n      while(entry && entry.r)entry = entry.p;\n      // get next entry\n      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if(kind == 'keys'  )return step(0, entry.k);\n      if(kind == 'values')return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_collection-strong.js\n// module id = 76\n// module chunks = 0","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof')\n  , from    = require('./_array-from-iterable');\nmodule.exports = function(NAME){\n  return function toJSON(){\n    if(classof(this) != NAME)throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_collection-to-json.js\n// module id = 77\n// module chunks = 0","'use strict';\nvar global         = require('./_global')\n  , $export        = require('./_export')\n  , meta           = require('./_meta')\n  , fails          = require('./_fails')\n  , hide           = require('./_hide')\n  , redefineAll    = require('./_redefine-all')\n  , forOf          = require('./_for-of')\n  , anInstance     = require('./_an-instance')\n  , isObject       = require('./_is-object')\n  , setToStringTag = require('./_set-to-string-tag')\n  , dP             = require('./_object-dp').f\n  , each           = require('./_array-methods')(0)\n  , DESCRIPTORS    = require('./_descriptors');\n\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){\n  var Base  = global[NAME]\n    , C     = Base\n    , ADDER = IS_MAP ? 'set' : 'add'\n    , proto = C && C.prototype\n    , O     = {};\n  if(!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){\n    new C().entries().next();\n  }))){\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function(target, iterable){\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base;\n      if(iterable != undefined)forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','),function(KEY){\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if(KEY in proto && !(IS_WEAK && KEY == 'clear'))hide(C.prototype, KEY, function(a, b){\n        anInstance(this, C, KEY);\n        if(!IS_ADDER && IS_WEAK && !isObject(a))return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    if('size' in proto)dP(C.prototype, 'size', {\n      get: function(){\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_collection.js\n// module id = 78\n// module chunks = 0","'use strict';\nvar $defineProperty = require('./_object-dp')\n  , createDesc      = require('./_property-desc');\n\nmodule.exports = function(object, index, value){\n  if(index in object)$defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_create-property.js\n// module id = 79\n// module chunks = 0","module.exports = require('./_global').document && document.documentElement;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_html.js\n// module id = 80\n// module chunks = 0","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_ie8-dom-define.js\n// module id = 81\n// module chunks = 0","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg){\n  return cof(arg) == 'Array';\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-array.js\n// module id = 82\n// module chunks = 0","'use strict';\nvar create         = require('./_object-create')\n  , descriptor     = require('./_property-desc')\n  , setToStringTag = require('./_set-to-string-tag')\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-create.js\n// module id = 83\n// module chunks = 0","var ITERATOR     = require('./_wks')('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_iter-detect.js\n// module id = 84\n// module chunks = 0","module.exports = true;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_library.js\n// module id = 85\n// module chunks = 0","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-assign.js\n// module id = 86\n// module chunks = 0","var dP       = require('./_object-dp')\n  , anObject = require('./_an-object')\n  , getKeys  = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-dps.js\n// module id = 87\n// module chunks = 0","exports.f = Object.getOwnPropertySymbols;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gops.js\n// module id = 88\n// module chunks = 0","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = require('./_has')\n  , toObject    = require('./_to-object')\n  , IE_PROTO    = require('./_shared-key')('IE_PROTO')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == 'function' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gpo.js\n// module id = 89\n// module chunks = 0","var has          = require('./_has')\n  , toIObject    = require('./_to-iobject')\n  , arrayIndexOf = require('./_array-includes')(false)\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-keys-internal.js\n// module id = 90\n// module chunks = 0","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-sap.js\n// module id = 91\n// module chunks = 0","var getKeys   = require('./_object-keys')\n  , toIObject = require('./_to-iobject')\n  , isEnum    = require('./_object-pie').f;\nmodule.exports = function(isEntries){\n  return function(it){\n    var O      = toIObject(it)\n      , keys   = getKeys(O)\n      , length = keys.length\n      , i      = 0\n      , result = []\n      , key;\n    while(length > i)if(isEnum.call(O, key = keys[i++])){\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-to-array.js\n// module id = 92\n// module chunks = 0","module.exports = require('./_hide');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_redefine.js\n// module id = 93\n// module chunks = 0","'use strict';\nvar global      = require('./_global')\n  , core        = require('./_core')\n  , dP          = require('./_object-dp')\n  , DESCRIPTORS = require('./_descriptors')\n  , SPECIES     = require('./_wks')('species');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_set-species.js\n// module id = 94\n// module chunks = 0","var toInteger = require('./_to-integer')\n  , defined   = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_string-at.js\n// module id = 95\n// module chunks = 0","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-index.js\n// module id = 96\n// module chunks = 0","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_to-primitive.js\n// module id = 97\n// module chunks = 0","var anObject = require('./_an-object')\n  , get      = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function(it){\n  var iterFn = get(it);\n  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/core.get-iterator.js\n// module id = 98\n// module chunks = 0","var classof   = require('./_classof')\n  , ITERATOR  = require('./_wks')('iterator')\n  , Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function(it){\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    || Iterators.hasOwnProperty(classof(O));\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/core.is-iterable.js\n// module id = 99\n// module chunks = 0","'use strict';\nvar ctx            = require('./_ctx')\n  , $export        = require('./_export')\n  , toObject       = require('./_to-object')\n  , call           = require('./_iter-call')\n  , isArrayIter    = require('./_is-array-iter')\n  , toLength       = require('./_to-length')\n  , createProperty = require('./_create-property')\n  , getIterFn      = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function(iter){ Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){\n    var O       = toObject(arrayLike)\n      , C       = typeof this == 'function' ? this : Array\n      , aLen    = arguments.length\n      , mapfn   = aLen > 1 ? arguments[1] : undefined\n      , mapping = mapfn !== undefined\n      , index   = 0\n      , iterFn  = getIterFn(O)\n      , length, result, step, iterator;\n    if(mapping)mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){\n      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for(result = new C(length); length > index; index++){\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.array.from.js\n// module id = 100\n// module chunks = 0","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables')\n  , step             = require('./_iter-step')\n  , Iterators        = require('./_iterators')\n  , toIObject        = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.array.iterator.js\n// module id = 101\n// module chunks = 0","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.assign.js\n// module id = 102\n// module chunks = 0","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.define-property.js\n// module id = 103\n// module chunks = 0","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.keys.js\n// module id = 104\n// module chunks = 0","'use strict';\nvar strong = require('./_collection-strong');\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')('Set', function(get){\n  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value){\n    return strong.def(this, value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.set.js\n// module id = 106\n// module chunks = 0","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export')\n  , $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it){\n    return $values(it);\n  }\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.object.values.js\n// module id = 107\n// module chunks = 0","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export  = require('./_export');\n\n$export($export.P + $export.R, 'Set', {toJSON: require('./_collection-to-json')('Set')});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.set.to-json.js\n// module id = 108\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 109\n// module chunks = 0","// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g =\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this;\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/regenerator-runtime/runtime-module.js\n// module id = 110\n// module chunks = 0","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value instanceof AwaitArgument) {\n          return Promise.resolve(value.arg).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = arg;\n\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/regenerator-runtime/runtime.js\n// module id = 111\n// module chunks = 0","// vim: sts=2 sw=2 ts=2 expandtab\r\n\r\n/*\r\n * 編成最適化計算機ワーカーのエントリーポイント\r\n *\r\n * WebWorkerとして動作する。\r\n * メインとはJSONをやりとりするが、\r\n * その中身(プロトコル)はまだあやふや。\r\n */\r\n\r\n\r\n// 必要な関数とか定数とかをインポート\r\nimport { GrblFormGAOptimizer, CALC_STATE } from \"./optimize_atk.js\";\r\nimport { WORKER_STATE, WORKER_COMMAND } from \"./const/worker_type.js\";\r\nimport { is_valid_weapon_obj, is_valid_summon_obj } from \"./atk_calc.js\";\r\nimport JOB_DATA from \"./const/job_data.js\";\r\n\r\n\r\n// モジュールローカルな変数群\r\nlet optimizer_instance = null;  //< 編成最適化のインスタンス\r\nlet optimizer_generator = null;  //< 編成最適化インスタンスから出来るジェネレータ\r\nlet optimizer_state = WORKER_STATE.STOP;  //< Workerの状態\r\nlet optimizer_parameter = {  //< GAのパラメータ\r\n  population: 100,  //< 個体数\r\n  mutation_probability: {  //< 突然変異の確率([0,1))\r\n    weapon: 0.05,\r\n    summon: 0.05,\r\n    friend: 0.05\r\n  },\r\n  generation: 100  //< 世代数(ループ回数)\r\n};\r\nlet optimizer_target = {  //< 最適化を行なうターゲット\r\n  basic_info: {},\r\n  weapon: [],\r\n  summon: [],\r\n  friend: []\r\n};\r\nlet optimizer_flag = {  //< 設定されたパラメータを表わすフラグ\r\n  p_count: false,  //< 個体数\r\n  g_count: false,  //< 世代数\r\n  m_weapon: false,  //< 変異率(武器)\r\n  m_summon: false,  //< 変異率(召喚)\r\n  m_friend: false,  //< 変異率(フレンド)\r\n  i_basic: false,  //< 基本情報\r\n  i_weapon: false,  //< 武器情報\r\n  i_summon: false,  //< 召喚情報\r\n  i_friend: false  //< フレンド召喚情報\r\n};\r\n\r\n\r\n// 念のためpostMessageをbindしておく\r\nlet postMessage = ::self.postMessage;\r\n\r\n\r\n// メインスレッドから送られてくるコマンドに対応する関数群\r\n// メインスレッドから渡されたdataを引数に持つ\r\n\r\n// 現在のステートを返す関数\r\nfunction post_state(data) {\r\n  postMessage({\r\n    result: true,\r\n    state: optimizer_state,\r\n    flags: optimizer_flag,\r\n    can_run: Object.values(optimizer_flag).every((v) => { return v; })\r\n  });\r\n}\r\n\r\n// GAのパラメータを初期化する\r\nfunction set_ga_parameter(data) {\r\n  // そもそもちゃんとパラメータが指定されているのか\r\n  if (data.data) {\r\n    let ga_p = data.data;\r\n    // 個体数の設定\r\n    let population = Number(ga_p.population);\r\n    if (population > 10) {\r\n      optimizer_parameter.population = Math.round(population);\r\n      optimizer_flag.p_count = true;\r\n    }\r\n    // 突然変異率の設定\r\n    if (ga_p.mutation_probability) {\r\n      let prob = ga_p.mutation_probability;\r\n      let is_valid_prob = (v) => { return ((v >= 0) && (v < 1)); };\r\n      if (prob.hasOwnProperty(\"all\") && is_valid_prob(prob.all)) {\r\n        optimizer_parameter.weapon = Number(prob.all);\r\n        optimizer_parameter.summon = Number(prob.all);\r\n        optimizer_parameter.friend = Number(prob.all);\r\n        optimizer_flag.m_weapon = true;\r\n        optimizer_flag.m_summon = true;\r\n        optimizer_flag.m_friend = true;\r\n      } else {\r\n        if (prob.weapon && is_valid_prob(prob.weapon)) {\r\n          optimizer_parameter.weapon = Number(prob.weapon);\r\n          optimizer_flag.m_weapon = true;\r\n        }\r\n        if (prob.summon && is_valid_prob(prob.summon)) {\r\n          optimizer_parameter.summon = Number(prob.summon);\r\n          optimizer_flag.m_summon = true;\r\n        }\r\n        if (prob.friend && is_valid_prob(prob.friend)) {\r\n          optimizer_parameter.friend = Number(prob.friend);\r\n          optimizer_flag.m_friend = true;\r\n        }\r\n      }\r\n    }\r\n    // 世代数の設定\r\n    if (ga_p.generation) {\r\n      let c = Number(ga_p.generation);\r\n      if (c >= 10) {\r\n        optimizer_parameter.generation = Math.round(c);\r\n        optimizer_flag.g_count = true;\r\n      }\r\n    }\r\n    postMessage({\r\n      result: true,\r\n      message: \"GA parameter is set.\",\r\n      data: optimizer_parameter\r\n    });\r\n  } else {\r\n    postMessage({ result: false, message: \"Can't recognize GA parameter.\"});\r\n  }\r\n}\r\n\r\n// 攻撃力を計算するための基本的な情報を受けとる関数\r\nfunction set_basic_info(data) {\r\n  if (data.data && data.data instanceof Object) {\r\n    Object.assign(optimizer_target.basic_info, data.data);\r\n    postMessage({ result: true, message: \"basic_info is set.\"});\r\n    optimizer_flag.i_basic = true;\r\n  } else {\r\n    postMessage({ result: false, message: \"data must be Object.\"});\r\n  }\r\n}\r\n\r\n// 最適編成計算の対象になる武器一覧を受けとる関数\r\nfunction set_weapon(data) {\r\n  if (data.data && data.data instanceof Array) {\r\n    let valid = data.data.every(is_valid_weapon_obj);\r\n    if (!valid) {\r\n      postMessage({ result: false, message: \"data has invalid weapon object.\" });\r\n      return;\r\n    }\r\n    optimizer_target.weapon = data.data;\r\n    optimizer_flag.i_weapon = true;\r\n    postMessage({ result: true, message: \"Weapon data is set.\" });\r\n  } else {\r\n    postMessage({ result: false, message: \"data must be Array.\" });\r\n  }\r\n}\r\n\r\n// 最適編成計算の対象になる召喚一覧を受けとる関数\r\nfunction set_summon(data) {\r\n  if (data.data && data.data instanceof Array) {\r\n    let valid = data.data.every(is_valid_summon_obj);\r\n    if (!valid) {\r\n      postMessage({ result: false, message: \"data has invalid summon object.\" });\r\n      return;\r\n    }\r\n    optimizer_target.summon = data.data;\r\n    optimizer_flag.i_summon = true;\r\n    postMessage({ result: true, message: \"Summon data is set.\" });\r\n  } else {\r\n    postMessage({ result: false, message: \"data must be Array.\" });\r\n  }\r\n}\r\n\r\n// 最適編成計算の対象になるフレンド召喚一覧を受けとる関数\r\nfunction set_friend(data) {\r\n  if (data.data && data.data instanceof Array) {\r\n    let valid = data.data.every(is_valid_summon_obj);  // フレンド召喚も召喚\r\n    if (!valid) {\r\n      postMessage({ result: false, message: \"data has invalid friend object.\" });\r\n      return;\r\n    }\r\n    optimizer_target.friend = data.data;\r\n    optimizer_flag.i_friend = true;\r\n    postMessage({ result: true, message: \"friend data is set.\" });\r\n  } else {\r\n    postMessage({ result: false, message: \"data must be Array.\" });\r\n  }\r\n}\r\n\r\n// GAを初期化する関数\r\nfunction init_optimizer(data) {\r\n  // 必要なフラグが全部立っているかどうかをチェックする\r\n  if (!Object.values(optimizer_flag).every((v) => { return v; })) {\r\n    postMessage({ result: false, message: \"Cannot run optimizer because of missing parameter.\"});\r\n    return;\r\n  }\r\n  // 計算機のインスタンスを作る\r\n  optimizer_instance = new GrblFormGAOptimizer();\r\n  // ジェネレータ(generator.next()を呼びだすごとに値を返すやつ)を作る\r\n  optimizer_generator = optimizer_instance.init(\r\n    optimizer_target.basic_info,\r\n    optimizer_target.weapon,\r\n    optimizer_target.summon,\r\n    optimizer_target.friend,\r\n    JOB_DATA\r\n  );\r\n  // 変異率等を設定する\r\n  optimizer_instance.create_first_ga_state(\r\n    optimizer_parameter.population,\r\n    optimizer_parameter.mutation_probability.weapon,\r\n    optimizer_parameter.mutation_probability.summon,\r\n    optimizer_parameter.mutation_probability.friend\r\n  );\r\n  // 現在の状態を初期化されたことにする\r\n  optimizer_state = WORKER_STATE.INITED;\r\n  postMessage({ result: true, message: \"Optimizer is inited.\" });\r\n}\r\n\r\n// 実際に最適化計算機を与えられたパラメータで走らせる\r\nfunction run_optimizer(data) {\r\n  // 初期化されてないなら中止\r\n  if (optimizer_state != WORKER_STATE.INITED) {\r\n    postMessage({ result: false, message: \"Optimizer isn't inited.\" });\r\n    return;\r\n  }\r\n  // 実際に編成計算機を走らせる\r\n  optimizer_state = WORKER_STATE.RUNNING;\r\n  let next_value = optimizer_generator.next().value;\r\n  let last_percent = Math.round(0);\r\n  for (let i = 0;\r\n    (i < optimizer_parameter.generation)\r\n    && (optimizer_state === WORKER_STATE.RUNNING);\r\n    i++) {\r\n    while (next_value && next_value.status != CALC_STATE.LOOP_END) {\r\n      next_value = optimizer_generator.next().value;\r\n    }\r\n    let percent = Math.round(i / optimizer_parameter.generation);\r\n    if (last_percent != percent) {\r\n      last_percent = percent;\r\n      postMessage({ message: \"Optimizer running.\", percent: percent, state: optimizer_state });\r\n    }\r\n  }\r\n  optimizer_state = WORKER_STATE.FINISH;\r\n  let top_individual = next_value.ga_state.population[0];\r\n  let [weapon, summon, friend] = [\r\n    optimizer_instance.conv_chromos_to_array(top_individual.weapon, optimizer_instance.ref.weapon),\r\n    optimizer_instance.conv_chromos_to_array(top_individual.summon, optimizer_instance.ref.summon),\r\n    optimizer_instance.conv_chromos_to_array(top_individual.friend, optimizer_instance.ref.friend),\r\n  ];\r\n  postMessage({\r\n    message: \"Optimize finished.\",\r\n    state: optimizer_state,\r\n    top: next_value.ga_state.population[0],\r\n    weapon: weapon,\r\n    summon: summon,\r\n    friend: friend\r\n  });\r\n}\r\n\r\n\r\n// コマンド定数と関数を対応付けるオブジェクト\r\nconst STOPPED_COMMAND_TABLE = {\r\n  [WORKER_COMMAND.GET_STATE]: post_state,\r\n  [WORKER_COMMAND.SET_GA_PARAM]: set_ga_parameter,\r\n  [WORKER_COMMAND.SET_BASIC_INFO]: set_basic_info,\r\n  [WORKER_COMMAND.SET_WEAPON]: set_weapon,\r\n  [WORKER_COMMAND.SET_SUMMON]: set_summon,\r\n  [WORKER_COMMAND.SET_FRIEND]: set_friend,\r\n  [WORKER_COMMAND.INIT]: init_optimizer,\r\n  [WORKER_COMMAND.RESET]: (d) => {\r\n    optimizer_generator = null;\r\n    optimizer_instance = null;\r\n    optimizer_state = WORKER_STATE.STOP;\r\n  }\r\n};\r\n\r\n\r\n// ワーカーのメイン(イベント待ち受け)\r\nself.addEventListener(\"message\", (e) => {\r\n  let data = e.data;\r\n  // コマンドが無いとどうしようもない\r\n  if (!data.command) {\r\n    postMessage({ result: false, message: \"Need command.\" });\r\n    return;\r\n  }\r\n  // 計算機の停止時コマンドが該当するものならば\r\n  if (STOPPED_COMMAND_TABLE.hasOwnProperty(data.command)) {\r\n    // 該当のコマンドを実行する\r\n    if (data.command === WORKER_COMMAND.INIT || data.command === WORKER_COMMAND.RESET) {  //< 初期化とリセット\r\n      optimizer_generator = null;\r\n      optimizer_instance = null;\r\n      optimizer_state = WORKER_STATE.STOP;\r\n      if (data.command === WORKER_COMMAND.INIT) {\r\n        STOPPED_COMMAND_TABLE[data.command](data);\r\n      }\r\n    } else if (optimizer_state === WORKER_STATE.RUNNING) {  //< 走っている間はパラメータ変更を受けつけない\r\n      postMessage({ result: false, message: \"Optimizer is running.\"});\r\n    } else {  //< 他は該当コマンドを実行\r\n      STOPPED_COMMAND_TABLE[data.command](data);\r\n    }\r\n  } else if (data.command === WORKER_COMMAND.TERMINATE && optimizer_state === WORKER_STATE.RUNNING) {\r\n    optimizer_state = WORKER_STATE.TERMINATE;\r\n  } else if (data.command === WORKER_COMMAND.RUN) {\r\n    run_optimizer(data);\r\n  } else {\r\n    postMessage({ result: false, message: \"Unknown command type.\" });\r\n  }\r\n}, false);\r\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/user/Source/Repos/grbl_calc/js/worker_ga.js"],"sourceRoot":""}